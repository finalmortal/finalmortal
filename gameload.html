<!doctype html> 
<html lang="en"> 
<head> 
    <meta charset="UTF-8" />
    <title>Final Mortal Fantasy Kombat Alpha 0.2</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.11.0/dist/phaser.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>
    
<script type="text/javascript">
//startmenuscene
var startmenuscene = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function startmenuscene ()
    {
        Phaser.Scene.call(this, { key: 'startmenuscene' });
    },
//preload
    preload: function ()
    {
this.load.image('enternamebox', 'assets/ui/input/enternamebox.png');
this.load.image('usethisnamebutton', 'assets/ui/input/usethisnamebutton.png');
this.load.image('Akey', 'assets/ui/input/Akey.png');
this.load.image('Bkey', 'assets/ui/input/Bkey.png');
this.load.image('Ckey', 'assets/ui/input/Ckey.png');
this.load.image('Dkey', 'assets/ui/input/Dkey.png');
this.load.image('Ekey', 'assets/ui/input/Ekey.png');
this.load.image('Fkey', 'assets/ui/input/Fkey.png');
this.load.image('Gkey', 'assets/ui/input/Gkey.png');
this.load.image('Hkey', 'assets/ui/input/Hkey.png');
this.load.image('Ikey', 'assets/ui/input/Ikey.png');
this.load.image('Jkey', 'assets/ui/input/Jkey.png');
this.load.image('Kkey', 'assets/ui/input/Kkey.png');
this.load.image('Lkey', 'assets/ui/input/Lkey.png');
this.load.image('Mkey', 'assets/ui/input/Mkey.png');
this.load.image('Nkey', 'assets/ui/input/Nkey.png');
this.load.image('Okey', 'assets/ui/input/Okey.png');
this.load.image('Pkey', 'assets/ui/input/Pkey.png');
this.load.image('Qkey', 'assets/ui/input/Qkey.png');
this.load.image('Rkey', 'assets/ui/input/Rkey.png');
this.load.image('Skey', 'assets/ui/input/Skey.png');
this.load.image('Tkey', 'assets/ui/input/Tkey.png');
this.load.image('Ukey', 'assets/ui/input/Ukey.png');
this.load.image('Vkey', 'assets/ui/input/Vkey.png');
this.load.image('Wkey', 'assets/ui/input/Wkey.png');
this.load.image('Xkey', 'assets/ui/input/Xkey.png');
this.load.image('Ykey', 'assets/ui/input/Ykey.png');
this.load.image('Zkey', 'assets/ui/input/Zkey.png');
this.load.image('delkey', 'assets/ui/input/delkey.png');
this.load.image('0key', 'assets/ui/input/0key.png');
this.load.image('1key', 'assets/ui/input/1key.png');
this.load.image('2key', 'assets/ui/input/2key.png');
this.load.image('3key', 'assets/ui/input/3key.png');
this.load.image('4key', 'assets/ui/input/4key.png');
this.load.image('5key', 'assets/ui/input/5key.png');
this.load.image('6key', 'assets/ui/input/6key.png');
this.load.image('7key', 'assets/ui/input/7key.png');
this.load.image('8key', 'assets/ui/input/8key.png');
this.load.image('9key', 'assets/ui/input/9key.png');


this.load.image('cecilswordbox', 'assets/ui/cecil/cecilswordbox.png');
this.load.image('startbackground', 'assets/menu/start/startmenuback.png');
this.load.image('startbutton', 'assets/menu/start/startbutton.png');
this.load.image('basemenubackground', 'assets/menu/base/basemenubackground.png');
this.load.image('basemenufront', 'assets/menu/base/basemenufront.png');
this.load.image('optionsbutton', 'assets/menu/base/optionsbutton.png');
this.load.image('optionsbuttonhover', 'assets/menu/base/optionsbuttonhover.png');
this.load.image('profilebutton', 'assets/menu/base/profilebutton.png');
this.load.image('profilebuttonhover', 'assets/menu/base/profilebuttonhover.png');
this.load.image('upgradebutton', 'assets/menu/base/upgradesbutton.png');
this.load.image('upgradebuttonhover', 'assets/menu/base/upgradesbuttonhover.png');
this.load.image('lairbutton', 'assets/menu/base/lairbutton.png');
this.load.image('lairbuttonhover', 'assets/menu/base/lairbuttonhover.png');
this.load.image('stellarbutton', 'assets/menu/base/stellar.png');
this.load.image('lairselectbackground', 'assets/menu/lairselect/lairselectbackground.png');
this.load.image('lairtitle', 'assets/menu/lairselect/selectlairtitle.png');
this.load.image('lairexitbutton', 'assets/menu/lairselect/exitbutton.png');
this.load.image('fantasylairbutton', 'assets/menu/lairselect/fantasylairbutton.png');
this.load.image('fantasylairbuttonhover', 'assets/menu/lairselect/fantasylairbuttonhover.png');
this.load.image('kombatlairbutton', 'assets/menu/lairselect/kombatlairbutton.png');
this.load.image('kombatlairbuttonhover', 'assets/menu/lairselect/kombatlairbuttonhover.png');
this.load.image('houndlairbutton', 'assets/menu/lairselect/houndlairbutton.png');
this.load.image('houndlairbuttonhover', 'assets/menu/lairselect/houndlairbuttonhover.png');
this.load.image('machinelairbutton', 'assets/menu/lairselect/machinelairbutton.png');
this.load.image('machinelairbuttonhover', 'assets/menu/lairselect/machinelairbuttonhover.png');
this.load.image('loadoutbackground', 'assets/menu/loadout/loadoutbackground.png');
this.load.image('adventureuibackground', 'assets/ui/adventureuibackground.png');
this.load.image('adventureui', 'assets/ui/adventureui.png');
this.load.image('amazingupgradesui', 'assets/ui/amazingupgradesui.png');
this.load.image('stellaritemsui', 'assets/ui/stellaritemsui.png');
this.load.image('itemshopwindow', 'assets/stellar/giftshoppopupwindow.png');
this.load.image('oakloungeclubinside', 'assets/stellar/oakloungeclubinside.png');
this.load.image('oakloungedoor', 'assets/stellar/loungedoor.png');
this.load.spritesheet('stellardoor', 'assets/stellar/stellardoor1.png', { frameWidth: 61, frameHeight: 102 });
this.load.spritesheet('fingerdoor', 'assets/stellar/fingerdoor1.png', { frameWidth: 44, frameHeight: 66 });
this.load.image('rightpointer', 'assets/ui/rightpointer.png');
this.load.image('leftpointer', 'assets/ui/leftpointer.png');
this.load.image('back', 'assets/stellar/back.png');
this.load.image('back2', 'assets/stellar/back2.png');
this.load.image('sky', 'assets/stellar/stellarcity-cloudpiece.png');
this.load.image('airplane1', 'assets/stellar/airplane1.png');
this.load.image('bluecar1', 'assets/stellar/bluecar1.png');
this.load.image('fiatpanda', 'assets/stellar/fiatpanda.png');
this.load.image('redcar1', 'assets/stellar/redcar1.png');
this.load.spritesheet('copter1', 'assets/stellar/copter1.png', { frameWidth: 225, frameHeight: 90 });
this.load.image('city', 'assets/stellar/stellar-frontpiece.png');
this.load.spritesheet('smokeface', 'assets/stellar/smokeface.png', { frameWidth: 120, frameHeight: 75 });
this.load.spritesheet('fingertop', 'assets/stellar/fingertop.png', { frameWidth: 200, frameHeight: 150 });
this.load.spritesheet('thefinger', 'assets/stellar/thefinger.png', { frameWidth: 50, frameHeight: 95 });
this.load.spritesheet('fingerarrow', 'assets/stellar/fingerarrow.png', { frameWidth: 65, frameHeight: 58 });
this.load.spritesheet('fingerwarp', 'assets/stellar/fingerwarp.png', { frameWidth: 75, frameHeight: 56 });
this.load.spritesheet('cecil', 'assets/char/spritesheets/cecilsprite.png', { frameWidth: 95, frameHeight: 95 });
this.load.spritesheet('burgerwindows', 'assets/stellar/burgerwindows.png', { frameWidth: 192, frameHeight: 29 });
this.load.spritesheet('ramenstore', 'assets/stellar/ramenstore.png', { frameWidth: 173, frameHeight: 99 });
this.load.spritesheet('arcade1', 'assets/stellar/arcade1.png', { frameWidth: 275, frameHeight: 141 });
this.load.spritesheet('arcade2', 'assets/stellar/arcade2.png', { frameWidth: 251, frameHeight: 141 });
this.load.spritesheet('arcadecoindrop', 'assets/stellar/arcadecoindrop.png', { frameWidth: 190, frameHeight: 114 });
this.load.spritesheet('stellarspiral', 'assets/stellar/stellarspiral.png', { frameWidth: 50, frameHeight: 50 });
this.load.spritesheet('stellarbridge1', 'assets/stellar/stellarbridge1.png', { frameWidth: 346, frameHeight: 375 });
this.load.spritesheet('oakloungedrop', 'assets/stellar/oakloungedrop.png', { frameWidth: 72, frameHeight: 72 });
this.load.spritesheet('oakloungerotate', 'assets/stellar/oakloungerotate.png', { frameWidth: 116, frameHeight: 59 });
this.load.spritesheet('trianglerotate', 'assets/stellar/trianglerotate.png', { frameWidth: 60, frameHeight: 62 });
this.load.spritesheet('oakskull', 'assets/stellar/oakskull.png', { frameWidth: 125, frameHeight: 125 });
this.load.spritesheet('stellarshoptv', 'assets/stellar/stellartv.png', { frameWidth: 48, frameHeight: 35 });
this.load.spritesheet('amazinggrap1', 'assets/stellar/amazinggrap1.png', { frameWidth: 154, frameHeight: 152 });
this.load.spritesheet('amazinggrap3', 'assets/stellar/amazinggrap3.png', { frameWidth: 40, frameHeight: 40 });
this.load.spritesheet('amazingblankitemspot', 'assets/amazingupgrades/amazingblankitem.png', { frameWidth: 176, frameHeight: 161 });
this.load.spritesheet('itemshopblankitemspot', 'assets/itemshop/itemblankitem.png', { frameWidth: 176, frameHeight: 161 });
this.load.image('amazingshopwindow', 'assets/stellar/amazingshopwindow.png');
this.load.image('amazingupgradesfront', 'assets/stellar/amazingupgradesfront.png');
this.load.image('amazingupgradesback', 'assets/stellar/amazingupgradesback.png');
this.load.image('outsidecity1frontpiece', 'assets/outsidecity/outsidecity1frontpiece.png');
this.load.image('outsidecitybackground', 'assets/outsidecity/outsidecitybackground.png');
this.load.image('outsidecitycloudpiece', 'assets/outsidecity/outsidecity-cloudpiece.png');
this.load.image('amazingshopbutton1', 'assets/amazingupgrades/1.png');
this.load.image('amazingshopbutton2', 'assets/amazingupgrades/2.png');
this.load.image('amazingshopbutton3', 'assets/amazingupgrades/3.png');
this.load.image('amazingshopbutton4', 'assets/amazingupgrades/4.png');
this.load.image('amazingshopbutton5', 'assets/amazingupgrades/5.png');
this.load.image('amazingshopbutton6', 'assets/amazingupgrades/6.png');
this.load.image('amazingshopbutton7', 'assets/amazingupgrades/7.png');
this.load.image('amazingshopbutton8', 'assets/amazingupgrades/8.png');
this.load.image('amazingshopbutton9', 'assets/amazingupgrades/9.png');
this.load.image('amazingshopbutton10', 'assets/amazingupgrades/10.png');
this.load.image('amazingshopbutton11', 'assets/amazingupgrades/11.png');
this.load.image('amazingshopbutton12', 'assets/amazingupgrades/12.png');
this.load.image('amazingshopbutton13', 'assets/amazingupgrades/13.png');
this.load.image('amazingshopbutton14', 'assets/amazingupgrades/14.png');
this.load.image('amazingshopbutton15', 'assets/amazingupgrades/15.png');
this.load.image('amazingshopbutton16', 'assets/amazingupgrades/16.png');
this.load.image('amazingshopbutton17', 'assets/amazingupgrades/17.png');
this.load.image('amazingshopbutton18', 'assets/amazingupgrades/18.png');
this.load.image('amazingshopbutton19', 'assets/amazingupgrades/19.png');
this.load.image('amazingshopbutton20', 'assets/amazingupgrades/20.png');
this.load.image('amazingshopbutton21', 'assets/amazingupgrades/21.png');
this.load.image('amazingshopbutton22', 'assets/amazingupgrades/22.png');
this.load.image('amazingshopbutton23', 'assets/amazingupgrades/23.png');
this.load.image('amazingshopbutton24', 'assets/amazingupgrades/24.png');
this.load.image('amazingshopbutton25', 'assets/amazingupgrades/25.png');
this.load.image('amazingshopbutton26', 'assets/amazingupgrades/26.png');
this.load.image('amazingshopbutton27', 'assets/amazingupgrades/27.png');
this.load.image('amazingshopbutton28', 'assets/amazingupgrades/28.png');
this.load.image('amazingshopbutton29', 'assets/amazingupgrades/29.png');
this.load.image('amazingshopbutton30', 'assets/amazingupgrades/30.png');
this.load.image('amazingshopbutton31', 'assets/amazingupgrades/31.png');
this.load.image('amazingshopbutton32', 'assets/amazingupgrades/32.png');
this.load.image('amazingshopbutton33', 'assets/amazingupgrades/33.png');
this.load.image('amazingshopbutton34', 'assets/amazingupgrades/34.png');
this.load.image('amazingshopbutton35', 'assets/amazingupgrades/35.png');
this.load.image('amazingshopbutton36', 'assets/amazingupgrades/36.png');
this.load.image('amazingshopbutton37', 'assets/amazingupgrades/37.png');
this.load.image('itemshopattackup', 'assets/itemshop/attackup.png');
this.load.image('itemshopdefenseup', 'assets/itemshop/defenseup.png');
this.load.image('itemshopmagicup', 'assets/itemshop/magicup.png');
this.load.image('itemshopspeedup', 'assets/itemshop/speedup.png');
this.load.image('itemshopsupportup', 'assets/itemshop/supportup.png');
this.load.image('itemshophealthup', 'assets/itemshop/healthup.png');
this.load.image('attackupinv', 'assets/ui/inventory/attackupinv.png');
this.load.image('defenseupinv', 'assets/ui/inventory/defenseupinv.png');
this.load.image('magicupinv', 'assets/ui/inventory/magicupinv.png');
this.load.image('speedupinv', 'assets/ui/inventory/speedupinv.png');
this.load.image('supportupinv', 'assets/ui/inventory/supportupinv.png');
this.load.image('healthupinv', 'assets/ui/inventory/healthupinv.png');


this.load.image('buyitembox', 'assets/ui/buyitembox.png');
this.load.spritesheet('buythisitem', 'assets/itemshop/buythisitem.png', { frameWidth: 197, frameHeight: 210 });


this.load.image('trashcan', 'assets/stellar/trashcan.png');
this.load.image('nayzramswand', 'assets/stellar/nayzramswand.png');
this.load.image('nayzram', 'assets/stellar/nayzram.png');
this.load.image('sword1', 'assets/weapons/sword1.png');
this.load.image('cecilsofficedooropen', 'assets/stellar/cecilofficedooropen.png');
this.load.image('cityoutskirtsbackground', 'assets/stellar/cityoutskirtsbackground.png');
this.load.image('graveyardgatesbackground', 'assets/graveyard/graveyardgatesbackground.png');
this.load.image('graveyardsceneabackground', 'assets/graveyard/gravesceneabackground.png');
this.load.spritesheet('graveyardbuildingaanimate', 'assets/graveyard/graveyard-a-anim.png', { frameWidth: 34, frameHeight: 33 });
this.load.spritesheet('graveyardbuildingbanimate', 'assets/graveyard/graveyard-b-anim.png', { frameWidth: 11, frameHeight: 15 });
this.load.spritesheet('graveyardbuildingcanimate', 'assets/graveyard/graveyard-c-anim.png', { frameWidth: 60, frameHeight: 23 });
this.load.spritesheet('graveyardbuildingdanimate', 'assets/graveyard/graveyard-d-anim.png', { frameWidth: 22, frameHeight: 14 });
this.load.spritesheet('graveyardbuildingeanimate', 'assets/graveyard/graveyard-e-anim.png', { frameWidth: 26, frameHeight: 15 });
this.load.spritesheet('tablelamp1', 'assets/stellar/tablelamp.png', { frameWidth: 55, frameHeight: 74 });
this.load.spritesheet('doorlights', 'assets/stellar/doorlights.png', { frameWidth: 88, frameHeight: 88 });
this.load.spritesheet('trianglean', 'assets/stellar/trianglean.png', { frameWidth: 130, frameHeight: 74 });
this.load.spritesheet('colorsmear', 'assets/stellar/colorsmear.png', { frameWidth: 210, frameHeight: 118 });
this.load.spritesheet('colortrip', 'assets/stellar/colortrip.png', { frameWidth: 294, frameHeight: 165 });
this.load.spritesheet('outsidebackground', 'assets/stellar/outsidebackground.png', { frameWidth: 500, frameHeight: 188 });
this.load.image('graveyardscenebbackground', 'assets/graveyard/gravescenebbackground.png');
this.load.image('adventureui', 'assets/ui/adventureui.png');
this.load.image('speechbubble', 'assets/ui/speech/speechbubble.png');
this.load.image('speechnayzramwandreward1', 'assets/ui/speech/speechnayzramwandreward1.png');
this.load.image('speechnayzramwandreward2', 'assets/ui/speech/speechnayzramwandreward2.png');
this.load.image('inventorybutton', 'assets/ui/inventorybutton.png');
this.load.image('statusbutton', 'assets/ui/statusbutton.png');
this.load.image('mapbutton', 'assets/ui/mapbutton.png');
this.load.image('inventoryscreenbackground', 'assets/ui/inventory/inventoryscreenbackground.png');
this.load.image('statusscreenbackground', 'assets/ui/status/cecilstatus.png');
this.load.image('statusscreentalentbutton', 'assets/ui/status/talentbuttonimage.png');
this.load.image('talentscreenbackground', 'assets/ui/status/ceciltalentscreenbackground.png');
this.load.image('takeitembox', 'assets/ui/takeitembox.png');
this.load.spritesheet('itemnames', 'assets/ui/inventory/itemnames.png', { frameWidth: 350, frameHeight: 27 });
this.load.image('yesbutton', 'assets/ui/yesbutton.png');
this.load.image('nobutton', 'assets/ui/nobutton.png');
this.load.image('cellphoneobject', 'assets/office/cellphoneobject.png');
this.load.image('cellphoneinvbutton', 'assets/ui/inventory/cellphoneinvbutton.png');
this.load.image('cellphoneuibutton', 'assets/ui/cellphoneuibutton.png');
this.load.image('phonemessagescreen', 'assets/ui/phonemessagescreen.png');
this.load.image('nayzramcallingscreen', 'assets/ui/nayzramcallingscreen.png');
this.load.image('nayzramwandmessagescreen', 'assets/ui/nayzramwandmessagescreen.png');
this.load.image('nayzramwandfoundmessagescreen', 'assets/ui/nayzramwandfoundmessagescreen.png');
this.load.image('jackburtoncallingscreen', 'assets/ui/jackburtoncallingscreen.png');
this.load.image('jackburtonmessagescreen', 'assets/ui/jackburtonmessagescreen.png');
this.load.image('diapermafiacallingscreen', 'assets/ui/themayorcallingscreen.png');
this.load.image('diapermafiamessagescreen', 'assets/ui/diapermafiamessagescreen.png');
this.load.image('onmywaybutton', 'assets/ui/onmywaybutton.png');
this.load.image('officeroombackground', 'assets/office/officeroombackground.png');
this.load.image('rightpointer', 'assets/ui/rightpointer.png');
this.load.image('leftpointer', 'assets/ui/leftpointer.png');
this.load.image('downpointer', 'assets/ui/downpointer.png');
this.load.image('questmasteropenscreen', 'assets/office/questmasteropenscreen.png');
this.load.image('questmasteropenscreenreq', 'assets/office/questmasteropenscreencell.png');
this.load.image('questmasterloginscreen', 'assets/office/questmasterloginscreen.png');
this.load.image('questmasterloginbutton', 'assets/office/questmasterloginbutton.png');
this.load.image('questmasteravailscreen', 'assets/office/questmasteravailscreen.png');
this.load.image('questmasterbeginquestbutton', 'assets/office/questmasterbeginquestbutton.png');
this.load.image('questmasternayzramwandquestquote', 'assets/office/questmasternayzramwandquestquote.png');
this.load.image('questmasternayzramwandbutton', 'assets/office/helpnayzramwandquestbutton.png');
this.load.image('questmasterjackburtonquestquote', 'assets/office/questmasterjackburtonquestquote.png');
this.load.image('questmasterjackburtonbutton', 'assets/office/helpjackburtonquestbutton.png');
this.load.image('questmasterdiapermafiaquestquote', 'assets/office/questmasterdiapermafiaquestquote.png');
this.load.image('questmasterdiapermafiabutton', 'assets/office/defeatdiapermafiabutton.png');
this.load.spritesheet('globescreen', 'assets/office/globescreen.png', { frameWidth: 123, frameHeight: 91 });
this.load.spritesheet('screen1', 'assets/office/screen1.png', { frameWidth: 129, frameHeight: 72 });
this.load.spritesheet('screen2', 'assets/office/screen2.png', { frameWidth: 129, frameHeight: 73 });
this.load.spritesheet('screen3', 'assets/office/screen3.png', { frameWidth: 129, frameHeight: 72 });
this.load.spritesheet('screen4', 'assets/office/screen4.png', { frameWidth: 129, frameHeight: 73 });
this.load.spritesheet('maxscreen', 'assets/office/maxscreen.png', { frameWidth: 95, frameHeight: 72 });
this.load.spritesheet('lamp1', 'assets/office/lamp1.png', { frameWidth: 73, frameHeight: 100 });
this.load.spritesheet('ceilinglamp', 'assets/office/ceilinglamp.png', { frameWidth: 61, frameHeight: 87 });
this.load.spritesheet('arcademachine1', 'assets/office/arcademachine1.png', { frameWidth: 150, frameHeight: 178 });
this.load.spritesheet('featherlighter', 'assets/office/featherlighter.png', { frameWidth: 50, frameHeight: 50 }); 
this.load.image('statuswindow', 'assets/ui/status/cecilstatus.png');
this.load.image('ceciltalentscreenbackground', 'assets/ui/status/ceciltalentscreenbackground.png');
this.load.image('mapscreenbackgrounda', 'assets/ui/map/backgroundmapa.png');
this.load.spritesheet('mapcurrentpositionlarge', 'assets/ui/map/mapcurrentpositionlarge.png', { frameWidth: 114, frameHeight: 77 });
this.load.spritesheet('mapcurrentpositionsmall', 'assets/ui/map/mapcurrentpositionsmall.png', { frameWidth: 72, frameHeight: 38 });

this.load.audio('phoneringer', [
        'assets/sound/phonering.mp3'
    ]);




},

create: function ()
{
loadsavedname()
this.input.setPollAlways();
this.input.on('gameobjectover', function (pointer, gameObject) {
gameObject.setTint(0xff0000);

});
    
this.input.on('gameobjectout', function (pointer, gameObject) {
gameObject.clearTint();
});
this.add.sprite(0, 0, 'startbackground').setOrigin(0, 0);
var startbutton = this.add.sprite(680, 550, 'startbutton').setInteractive();
startbutton.on('pointerdown', function (pointer) {
this.setTint(0xff0000);
if (accountnickname == ""){
game.scene.stop('startmenuscene')
loaddefaultvalues()
game.scene.start('enternamescene')
}
else {
game.scene.stop('startmenuscene')
loadsavedvalues()
game.scene.start('basemenuscene')
}
});
}
});

//enternamescene
//entername
var enternamescene = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function enternamescene ()
    {
        Phaser.Scene.call(this, { key: 'enternamescene' });
    },

    preload: function ()
    {
      
    },

create: function ()
{
  
        this.input.setPollAlways();
        this.input.on('gameobjectover', function (pointer, gameObject) {
        gameObject.setTint(0xff0000);
    });
    
        this.input.on('gameobjectout', function (pointer, gameObject) {
        gameObject.clearTint();
    });

    this.registry.set('accountnickname', accountnickname);
    this.time.addEvent({ delay: 500, callback: setdata, callbackScope: this, loop: true });

    basemenubackground = this.add.sprite(0, 0, 'basemenubackground').setOrigin(0, 0);
    basemenufront = this.add.sprite(0, 0, 'basemenufront').setAlpha(0);
    basemenufront.setOrigin(0, 0);
      this.tweens.add({
            targets: basemenufront,
            alphaTopLeft: { value: 1, duration: 5000, ease: 'Power1' },
            alphaBottomRight: { value: 1, duration: 10000, ease: 'Power1' },
            alphaBottomLeft: { value: 1, duration: 5000, ease: 'Power1', delay: 5000 },
            yoyo: true,
            loop: -1

        });

        enternamebox = this.add.sprite(242, 40, 'enternamebox').setOrigin(0, 0);
      
        usethisnamebutton = this.add.sprite(534, 230, 'usethisnamebutton').setInteractive();
        usethisnamebutton.setOrigin(0, 0);
            usethisnamebutton.on('pointerdown', function (pointer) {
            game.scene.stop('enternamescene')
            game.scene.start('basemenuscene')
          
            
                            
        });

        usethisnamebutton.visible = false

        qbutton = this.add.sprite(92, 395, 'Qkey').setInteractive();
        qbutton.setOrigin(0, 0);
            qbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'Q'
                 accountnamesize += 1;
            
        });
         wbutton = this.add.sprite(181, 395, 'Wkey').setInteractive();
         wbutton.setOrigin(0, 0);
            wbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'W'
                 accountnamesize += 1;
            
        });
         ebutton = this.add.sprite(270, 395, 'Ekey').setInteractive();
         ebutton.setOrigin(0, 0);
            ebutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'E'
                 accountnamesize += 1;
        });
        rbutton = this.add.sprite(359, 395, 'Rkey').setInteractive();
         rbutton.setOrigin(0, 0);
            rbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'R'
                 accountnamesize += 1;
        });
         tbutton = this.add.sprite(448, 395, 'Tkey').setInteractive();
         tbutton.setOrigin(0, 0);
            tbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'T'
                 accountnamesize += 1;
        });
         ybutton = this.add.sprite(537, 395, 'Ykey').setInteractive();
         ybutton.setOrigin(0, 0);
            ybutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'Y'
                 accountnamesize += 1;
        });
         ubutton = this.add.sprite(626, 395, 'Ukey').setInteractive();
         ubutton.setOrigin(0, 0);
            ubutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'U'
                 accountnamesize += 1;
        });
         ibutton = this.add.sprite(715, 395, 'Ikey').setInteractive();
         ibutton.setOrigin(0, 0);
            ibutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'I'
                 accountnamesize += 1;
        });
         obutton = this.add.sprite(804, 395, 'Okey').setInteractive();
         obutton.setOrigin(0, 0);
            obutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'O'
                 accountnamesize += 1;
        });
         pbutton = this.add.sprite(893, 395, 'Pkey').setInteractive();
         pbutton.setOrigin(0, 0);
            pbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'P'
                 accountnamesize += 1;
        });
         abutton = this.add.sprite(130, 484, 'Akey').setInteractive();
         abutton.setOrigin(0, 0);
            abutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'A'
                 accountnamesize += 1;
        });
        sbutton = this.add.sprite(219, 484, 'Skey').setInteractive();
         sbutton.setOrigin(0, 0);
            sbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'S'
                 accountnamesize += 1;
        });
         dbutton = this.add.sprite(308, 484, 'Dkey').setInteractive();
         dbutton.setOrigin(0, 0);
            dbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'D'
                 accountnamesize += 1;
        });
        fbutton = this.add.sprite(397, 484, 'Fkey').setInteractive();
         fbutton.setOrigin(0, 0);
            fbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'F'
                 accountnamesize += 1;
        });
         gbutton = this.add.sprite(486, 484, 'Gkey').setInteractive();
         gbutton.setOrigin(0, 0);
            gbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'G'
                 accountnamesize += 1;
        });
         hbutton = this.add.sprite(575, 484, 'Hkey').setInteractive();
         hbutton.setOrigin(0, 0);
            hbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'H'
                 accountnamesize += 1;
        });

        jbutton = this.add.sprite(664, 484, 'Jkey').setInteractive();
         jbutton.setOrigin(0, 0);
            jbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'J'
                 accountnamesize += 1;
        });
         kbutton = this.add.sprite(753, 484, 'Kkey').setInteractive();
         kbutton.setOrigin(0, 0);
            kbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'K'
                 accountnamesize += 1;
        });
         lbutton = this.add.sprite(842, 484, 'Lkey').setInteractive();
         lbutton.setOrigin(0, 0);
            lbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'L'
            accountnamesize += 1;
        });
        zbutton = this.add.sprite(219, 573, 'Zkey').setInteractive();
         zbutton.setOrigin(0, 0);
            zbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'Z'
                 accountnamesize += 1;
        }); 
         xbutton = this.add.sprite(308, 573, 'Xkey').setInteractive();
         xbutton.setOrigin(0, 0);
            xbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'X'
                 accountnamesize += 1;
        }); 
         cbutton = this.add.sprite(397, 573, 'Ckey').setInteractive();
         cbutton.setOrigin(0, 0);
            cbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'C'
                 accountnamesize += 1;
        }); 
         vbutton = this.add.sprite(486, 573, 'Vkey').setInteractive();
         vbutton.setOrigin(0, 0);
            vbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'V'
                 accountnamesize += 1;
        }); 
         bbutton = this.add.sprite(575, 573, 'Bkey').setInteractive();
         bbutton.setOrigin(0, 0);
            bbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'B'
                 accountnamesize += 1;
        }); 
        nbutton = this.add.sprite(664, 573, 'Nkey').setInteractive();
         nbutton.setOrigin(0, 0);
            nbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'N'
                 accountnamesize += 1;
        }); 
         mbutton = this.add.sprite(753, 573, 'Mkey').setInteractive();
         mbutton.setOrigin(0, 0);
            mbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  'M'
                 accountnamesize += 1;
        }); 
         sevenbutton = this.add.sprite(1014, 395, '7key').setInteractive();
         sevenbutton.setOrigin(0, 0);
            sevenbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  '7'
                 accountnamesize += 1;
        }); 
         eightbutton = this.add.sprite(1103, 395, '8key').setInteractive();
         eightbutton.setOrigin(0, 0);
            eightbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  '8'
                 accountnamesize += 1;
        }); 
         ninebutton = this.add.sprite(1192, 395, '9key').setInteractive();
         ninebutton.setOrigin(0, 0);
            ninebutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  '9'
                 accountnamesize += 1;
        }); 
        fourbutton = this.add.sprite(1014, 484, '4key').setInteractive();
         fourbutton.setOrigin(0, 0);
            fourbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  '4'
                 accountnamesize += 1;
        }); 
         fivebutton = this.add.sprite(1103, 484, '5key').setInteractive();
         fivebutton.setOrigin(0, 0);
            fivebutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  '5'
                 accountnamesize += 1;
        }); 

         sixbutton = this.add.sprite(1192, 484, '6key').setInteractive();
         sixbutton.setOrigin(0, 0);
            sixbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  '6'
                 accountnamesize += 1;
        }); 
         onebutton = this.add.sprite(1014, 573, '1key').setInteractive();
         onebutton.setOrigin(0, 0);
            onebutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  '1'
                 accountnamesize += 1;
        }); 
         twobutton = this.add.sprite(1103, 573, '2key').setInteractive();
         twobutton.setOrigin(0, 0);
            twobutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  '2'
                 accountnamesize += 1;
        }); 
        threebutton = this.add.sprite(1192, 573, '3key').setInteractive();
         threebutton.setOrigin(0, 0);
            threebutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  '3'
                 accountnamesize += 1;
        }); 
         zerobutton = this.add.sprite(1014, 662, '0key').setInteractive();
         zerobutton.setOrigin(0, 0);
            zerobutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname +=  '0'
                 accountnamesize += 1;
        }); 
         delbutton = this.add.sprite(1104, 662, 'delkey').setInteractive();
         delbutton.setOrigin(0, 0);
            delbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
                 accountnickname =  ''
                 accountnamesize = 0
                 usethisnamebutton.visible = false
            
        }); 

 accountnametxt = this.add.text(565, 90, 'testname', { font: '40px Arial', fill: '#00ff00' }).setScrollFactor(0);
        
        
},



update: function (time, delta)
{
 if (accountnamesize > 5){
     usethisnamebutton.visible = true
 }

 accountnametxt.setText([
       accountnickname
    ]);

}

});


//basemenuscene
//base
var basemenuscene = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function basemenuscene ()
    {
        Phaser.Scene.call(this, { key: 'basemenuscene' });
    },

    preload: function ()
    {
      
    },

create: function ()
{
  
             this.input.setPollAlways();
        this.input.on('gameobjectover', function (pointer, gameObject) {
        gameObject.setTint(0xff0000);
    });
    
        this.input.on('gameobjectout', function (pointer, gameObject) {
        gameObject.clearTint();
    });

  






        basemenubackground = this.add.sprite(0, 0, 'basemenubackground').setOrigin(0, 0);
        
        basemenufront = this.add.sprite(0, 0, 'basemenufront').setAlpha(0);
        basemenufront.setOrigin(0, 0);
        
             var profilebutton = this.add.sprite(200, 300, 'profilebutton').setInteractive();
            profilebutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
       
          optionsbutton = this.add.sprite(200, 400, 'optionsbutton').setInteractive();
            optionsbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
          
        this.tweens.add({
            targets: basemenufront,
            alphaTopLeft: { value: 1, duration: 5000, ease: 'Power1' },
            alphaBottomRight: { value: 1, duration: 10000, ease: 'Power1' },
            alphaBottomLeft: { value: 1, duration: 5000, ease: 'Power1', delay: 5000 },
            yoyo: true,
            loop: -1

        });
        
             stellarbutton = this.add.sprite(1100, 300, 'stellarbutton').setInteractive();
            stellarbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
            playerx = 50
            playery = 509
            stellarcitybackgroundx = 0
            game.scene.stop('basemenuscene')
            scenename = 'outsidecity'
            game.scene.start('uiscene');
            game.scene.start('outsidecityscene'); 
            areaname = '     Outside City'
            
            
        });

 accountnametxt = this.add.text(10, 10, accountnickname, { font: '40px Arial', fill: '#00ff00' }).setScrollFactor(0);
        
        
},

update: function (time, delta)
{


}

});

//stellarscene
//stellar
var stellarscene = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function stellarscene ()
    {
        Phaser.Scene.call(this, { key: 'stellarscene' });
    },

    preload: function ()
    {
      
    },
//stellarcreate
create: function ()
{
     
this.back = this.add.sprite(0, 0, 'back').setOrigin(0, 0);
this.airplane1 = this.add.sprite(3000, 100, 'airplane1')
this.sky = this.add.tileSprite(0, 0, 4000, 600, 'sky').setOrigin(0, 0);
stellarbridge1 = this.physics.add.sprite(-145 - stellarcitybackgroundx, 250, 'stellarbridge1').setOrigin(0, 0);
this.back2= this.add.tileSprite(0, 0, 1400, 875, 'back2').setOrigin(0, 0);
copter1 = this.physics.add.sprite(1600 - stellarcitybackgroundx, 150, 'copter1');
burger = this.physics.add.sprite(890 - stellarcitybackgroundx, 462, 'burgerwindows');
ramen = this.physics.add.sprite(1346 - stellarcitybackgroundx, 385, 'ramenstore').setOrigin(0, 0);
oakloungerotate = this.physics.add.sprite(6228 - stellarcitybackgroundx, 406, 'oakloungerotate').setOrigin(0, 0);
stellarshoptv = this.physics.add.sprite(2102 - stellarcitybackgroundx, 391, 'stellarshoptv').setOrigin(0, 0);
this.city = this.add.tileSprite(0, 0, 4000, 600, 'city').setOrigin(0, 0);
this.city.tilePositionX = stellarcitybackgroundx
arcade1 = this.physics.add.sprite(2863 - stellarcitybackgroundx, 356, 'arcade1').setOrigin(0, 0);
arcade2 = this.physics.add.sprite(3135 - stellarcitybackgroundx, 356, 'arcade2').setOrigin(0, 0);
arcadecoindrop = this.physics.add.sprite(2975 - stellarcitybackgroundx, 325, 'arcadecoindrop').setOrigin(0, 0);
smokeface = this.physics.add.sprite(2668 - stellarcitybackgroundx, 445, 'smokeface');
fingertop = this.physics.add.sprite(2647 - stellarcitybackgroundx, 350, 'fingertop');
thefinger = this.physics.add.sprite(2810 - stellarcitybackgroundx, 330, 'thefinger');
fingerarrow = this.physics.add.sprite(2683 - stellarcitybackgroundx, 410, 'fingerarrow');
fingerwarp = this.physics.add.sprite(2747 - stellarcitybackgroundx, 386, 'fingerwarp').setOrigin(0, 0); 
stellarspiral = this.physics.add.sprite(2205 - stellarcitybackgroundx, 441, 'stellarspiral');
oakskull = this.physics.add.sprite(6165 - stellarcitybackgroundx, 420, 'oakskull');
oakloungedrop = this.physics.add.sprite(6075 - stellarcitybackgroundx, 395, 'oakloungedrop');
trianglerotate = this.physics.add.sprite(2205 - stellarcitybackgroundx, 385, 'trianglerotate');
fingerdoor = this.physics.add.sprite(2720 - stellarcitybackgroundx, 465, 'fingerdoor');
stellardoor = this.physics.add.sprite(2175 - stellarcitybackgroundx, 398, 'stellardoor').setOrigin(0, 0);
stellardoor.visible = false
oakloungedoor = this.physics.add.sprite(6031 - stellarcitybackgroundx, 433, 'oakloungedoor').setOrigin(0, 0);
oakloungedoor.visible = false
amazingupgradesback = this.physics.add.sprite(5000 - stellarcitybackgroundx, 340, 'amazingupgradesback').setOrigin(0, 0);
amazinggrap1 = this.physics.add.sprite(5000 - stellarcitybackgroundx, 345, 'amazinggrap1').setOrigin(0, 0);
amazinggrap2 = this.physics.add.sprite(5200 - stellarcitybackgroundx, 345, 'amazinggrap1').setOrigin(0, 0);
amazinggrap3 = this.physics.add.sprite(5160 - stellarcitybackgroundx, 400, 'amazinggrap3').setOrigin(0, 0);
amazinggrap2.setFlipX(true);
amazingupgradesfront = this.physics.add.sprite(5000 - stellarcitybackgroundx, 310, 'amazingupgradesfront').setOrigin(0, 0);
cecilofficedooropen = this.physics.add.sprite(163 - stellarcitybackgroundx, 398, 'cecilsofficedooropen').setOrigin(0, 0);
cecilofficedooropen.visible = false
nayzramswand = this.physics.add.sprite(3400, 485, 'nayzramswand');
nayzramswand.visible = false
trashcan = this.physics.add.sprite(3400, 485, 'trashcan');
trashcan.visible = false
player = this.physics.add.sprite(playerx, playery, 'cecil');
sword = this.physics.add.sprite(player.x , player.y - 13, 'sword1');
sword.visible = false
sword.rotation += 0.5;
this.fiatpanda = this.add.sprite(2490 - stellarcitybackgroundx, 485, 'fiatpanda')
this.redcar1 = this.add.sprite(5000 - stellarcitybackgroundx, 515, 'redcar1')
this.bluecar1 = this.add.sprite(-1000 - stellarcitybackgroundx, 550, 'bluecar1')
nayzram = this.physics.add.sprite(350, 489, 'nayzram');
nayzram.setFlipX(true);
nayzram.visible = false
itemshopwindow = this.physics.add.sprite(0, 0, 'itemshopwindow').setOrigin(0, 0);
itemshopwindow.visible = false
amazingshopwindow = this.physics.add.sprite(0, 0, 'amazingshopwindow').setOrigin(0, 0);
amazingshopwindow.visible = false
scenename = 'stellarscene'

this.input.setPollAlways();
this.input.on('gameobjectover', function (pointer, gameObject) {
gameObject.setTint(0x00ff00);
if (gameObject== itemshophealthupbutton){
    itemshopblankitemspot.anims.play('healthupitem', true);
}
if (gameObject== itemshopattackupbutton){
    itemshopblankitemspot.anims.play('attackupitem', true);
}
if (gameObject== itemshopdefenseupbutton){
    itemshopblankitemspot.anims.play('defenseupitem', true);
}
if (gameObject== itemshopspeedupbutton){
    itemshopblankitemspot.anims.play('speedupitem', true);
}
if (gameObject== itemshopmagicupbutton){
    itemshopblankitemspot.anims.play('magicupitem', true);
}
if (gameObject== itemshopsupportupbutton){
    itemshopblankitemspot.anims.play('supportupitem', true);
}



if (gameObject == amazingshopbutton1){
    amazingblankitemspot.anims.play('blankitem01', true);
}
if (gameObject == amazingshopbutton2){
    amazingblankitemspot.anims.play('blankitem02', true);
}
if (gameObject == amazingshopbutton3){
    amazingblankitemspot.anims.play('blankitem03', true);
}
if (gameObject == amazingshopbutton4){
    amazingblankitemspot.anims.play('blankitem04', true);
}
if (gameObject == amazingshopbutton5){
    amazingblankitemspot.anims.play('blankitem05', true);
}
if (gameObject == amazingshopbutton6){
    amazingblankitemspot.anims.play('blankitem06', true);
}
if (gameObject == amazingshopbutton7){
    amazingblankitemspot.anims.play('blankitem07', true);
}
if (gameObject == amazingshopbutton8){
    amazingblankitemspot.anims.play('blankitem08', true);
}
if (gameObject == amazingshopbutton9){
    amazingblankitemspot.anims.play('blankitem09', true);
}
if (gameObject == amazingshopbutton10){
    amazingblankitemspot.anims.play('blankitem10', true);
}
if (gameObject == amazingshopbutton11){
    amazingblankitemspot.anims.play('blankitem11', true);
}
if (gameObject == amazingshopbutton12){
    amazingblankitemspot.anims.play('blankitem12', true);
}
if (gameObject == amazingshopbutton13){
    amazingblankitemspot.anims.play('blankitem13', true);
}
if (gameObject == amazingshopbutton14){
    amazingblankitemspot.anims.play('blankitem14', true);
}
if (gameObject == amazingshopbutton15){
    amazingblankitemspot.anims.play('blankitem15', true);
}
if (gameObject == amazingshopbutton16){
    amazingblankitemspot.anims.play('blankitem16', true);
}
if (gameObject == amazingshopbutton17){
    amazingblankitemspot.anims.play('blankitem17', true);
}
if (gameObject == amazingshopbutton18){
    amazingblankitemspot.anims.play('blankitem18', true);
}
if (gameObject == amazingshopbutton19){
    amazingblankitemspot.anims.play('blankitem19', true);
}
if (gameObject == amazingshopbutton20){
    amazingblankitemspot.anims.play('blankitem20', true);
}
if (gameObject == amazingshopbutton21){
    amazingblankitemspot.anims.play('blankitem21', true);
}
if (gameObject == amazingshopbutton22){
    amazingblankitemspot.anims.play('blankitem22', true);
}
if (gameObject == amazingshopbutton23){
    amazingblankitemspot.anims.play('blankitem23', true);
}
if (gameObject == amazingshopbutton24){
    amazingblankitemspot.anims.play('blankitem24', true);
}
if (gameObject == amazingshopbutton25){
    amazingblankitemspot.anims.play('blankitem25', true);
}
if (gameObject == amazingshopbutton26){
    amazingblankitemspot.anims.play('blankitem26', true);
}
if (gameObject == amazingshopbutton27){
    amazingblankitemspot.anims.play('blankitem27', true);
}
if (gameObject == amazingshopbutton28){
    amazingblankitemspot.anims.play('blankitem28', true);
}
if (gameObject == amazingshopbutton29){
    amazingblankitemspot.anims.play('blankitem29', true);
}
if (gameObject == amazingshopbutton30){
    amazingblankitemspot.anims.play('blankitem30', true);
}
if (gameObject == amazingshopbutton31){
    amazingblankitemspot.anims.play('blankitem31', true);
}
if (gameObject == amazingshopbutton32){
    amazingblankitemspot.anims.play('blankitem32', true);
}
if (gameObject == amazingshopbutton33){
    amazingblankitemspot.anims.play('blankitem33', true);
}
if (gameObject == amazingshopbutton34){
    amazingblankitemspot.anims.play('blankitem34', true);
}
if (gameObject == amazingshopbutton35){
    amazingblankitemspot.anims.play('blankitem35', true);
}
if (gameObject == amazingshopbutton36){
    amazingblankitemspot.anims.play('blankitem36', true);
}
if (gameObject == amazingshopbutton37){
    amazingblankitemspot.anims.play('blankitem37', true);
}
});
this.input.on('gameobjectout', function (pointer, gameObject) {
amazingblankitemspot.anims.play('blankitem38', true);
itemshopblankitemspot.anims.play('itemshopblankitem', true);

gameObject.clearTint();
});

 amazingshopbutton1 = this.add.sprite(0, 0, 'amazingshopbutton1').setInteractive();
 amazingshopbutton1.setOrigin(0, 0);
            amazingshopbutton1.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton1.visible = false   

 amazingshopbutton2 = this.add.sprite(0, 0, 'amazingshopbutton2').setInteractive();
 amazingshopbutton2.setOrigin(0, 0);
            amazingshopbutton2.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton2.visible = false     

 amazingshopbutton3 = this.add.sprite(0, 0, 'amazingshopbutton3').setInteractive();
 amazingshopbutton3.setOrigin(0, 0);
            amazingshopbutton3.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton3.visible = false   

 amazingshopbutton4 = this.add.sprite(0, 0, 'amazingshopbutton4').setInteractive();
 amazingshopbutton4.setOrigin(0, 0);
            amazingshopbutton4.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton4.visible = false   


 amazingshopbutton5 = this.add.sprite(0, 0, 'amazingshopbutton5').setInteractive();
 amazingshopbutton5.setOrigin(0, 0);
            amazingshopbutton5.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton5.visible = false   

 amazingshopbutton6 = this.add.sprite(0, 0, 'amazingshopbutton6').setInteractive();
 amazingshopbutton6.setOrigin(0, 0);
            amazingshopbutton6.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton6.visible = false     

 amazingshopbutton7 = this.add.sprite(0, 0, 'amazingshopbutton7').setInteractive();
 amazingshopbutton7.setOrigin(0, 0);
            amazingshopbutton7.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton7.visible = false   

 amazingshopbutton8 = this.add.sprite(0, 0, 'amazingshopbutton8').setInteractive();
 amazingshopbutton8.setOrigin(0, 0);
            amazingshopbutton8.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton8.visible = false   


amazingshopbutton9 = this.add.sprite(0, 0, 'amazingshopbutton9').setInteractive();
 amazingshopbutton9.setOrigin(0, 0);
            amazingshopbutton9.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton9.visible = false   

 amazingshopbutton10 = this.add.sprite(0, 0, 'amazingshopbutton10').setInteractive();
 amazingshopbutton10.setOrigin(0, 0);
            amazingshopbutton10.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton10.visible = false     

 amazingshopbutton11 = this.add.sprite(0, 0, 'amazingshopbutton11').setInteractive();
 amazingshopbutton11.setOrigin(0, 0);
            amazingshopbutton11.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton11.visible = false   

 amazingshopbutton12 = this.add.sprite(0, 0, 'amazingshopbutton12').setInteractive();
 amazingshopbutton12.setOrigin(0, 0);
            amazingshopbutton12.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton12.visible = false   


 amazingshopbutton13 = this.add.sprite(0, 0, 'amazingshopbutton13').setInteractive();
 amazingshopbutton13.setOrigin(0, 0);
            amazingshopbutton13.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton13.visible = false   

 amazingshopbutton14 = this.add.sprite(0, 0, 'amazingshopbutton14').setInteractive();
 amazingshopbutton14.setOrigin(0, 0);
            amazingshopbutton14.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton14.visible = false     

 amazingshopbutton15 = this.add.sprite(0, 0, 'amazingshopbutton15').setInteractive();
 amazingshopbutton15.setOrigin(0, 0);
            amazingshopbutton15.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton15.visible = false   

 amazingshopbutton16 = this.add.sprite(0, 0, 'amazingshopbutton16').setInteractive();
 amazingshopbutton16.setOrigin(0, 0);
            amazingshopbutton16.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton16.visible = false   

amazingshopbutton17 = this.add.sprite(0, 0, 'amazingshopbutton17').setInteractive();
 amazingshopbutton17.setOrigin(0, 0);
            amazingshopbutton17.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton17.visible = false     

 amazingshopbutton18 = this.add.sprite(0, 0, 'amazingshopbutton18').setInteractive();
 amazingshopbutton18.setOrigin(0, 0);
            amazingshopbutton18.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton18.visible = false   

 amazingshopbutton19 = this.add.sprite(0, 0, 'amazingshopbutton19').setInteractive();
 amazingshopbutton19.setOrigin(0, 0);
            amazingshopbutton19.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton19.visible = false   


 amazingshopbutton20 = this.add.sprite(0, 0, 'amazingshopbutton20').setInteractive();
 amazingshopbutton20.setOrigin(0, 0);
            amazingshopbutton20.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton20.visible = false   

 amazingshopbutton21 = this.add.sprite(0, 0, 'amazingshopbutton21').setInteractive();
 amazingshopbutton21.setOrigin(0, 0);
            amazingshopbutton21.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton21.visible = false     

 amazingshopbutton22 = this.add.sprite(0, 0, 'amazingshopbutton22').setInteractive();
 amazingshopbutton22.setOrigin(0, 0);
            amazingshopbutton22.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton22.visible = false   

 amazingshopbutton23 = this.add.sprite(0, 0, 'amazingshopbutton23').setInteractive();
 amazingshopbutton23.setOrigin(0, 0);
            amazingshopbutton23.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton23.visible = false   

 amazingshopbutton24 = this.add.sprite(0, 0, 'amazingshopbutton24').setInteractive();
 amazingshopbutton24.setOrigin(0, 0);
            amazingshopbutton24.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton24.visible = false   

 amazingshopbutton25 = this.add.sprite(0, 0, 'amazingshopbutton25').setInteractive();
 amazingshopbutton25.setOrigin(0, 0);
            amazingshopbutton25.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton25.visible = false   


 amazingshopbutton26 = this.add.sprite(0, 0, 'amazingshopbutton26').setInteractive();
 amazingshopbutton26.setOrigin(0, 0);
            amazingshopbutton26.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton26.visible = false   

 amazingshopbutton27 = this.add.sprite(0, 0, 'amazingshopbutton27').setInteractive();
 amazingshopbutton27.setOrigin(0, 0);
            amazingshopbutton27.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton27.visible = false     

 amazingshopbutton28 = this.add.sprite(0, 0, 'amazingshopbutton28').setInteractive();
 amazingshopbutton28.setOrigin(0, 0);
            amazingshopbutton28.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton28.visible = false   

 amazingshopbutton29 = this.add.sprite(0, 0, 'amazingshopbutton29').setInteractive();
 amazingshopbutton29.setOrigin(0, 0);
            amazingshopbutton29.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton29.visible = false   

 amazingshopbutton30 = this.add.sprite(0, 0, 'amazingshopbutton30').setInteractive();
 amazingshopbutton30.setOrigin(0, 0);
            amazingshopbutton30.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton30.visible = false

 amazingshopbutton31 = this.add.sprite(0, 0, 'amazingshopbutton31').setInteractive();
 amazingshopbutton31.setOrigin(0, 0);
            amazingshopbutton31.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton31.visible = false   

 amazingshopbutton32 = this.add.sprite(0, 0, 'amazingshopbutton32').setInteractive();
 amazingshopbutton32.setOrigin(0, 0);
            amazingshopbutton32.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton32.visible = false   


 amazingshopbutton33 = this.add.sprite(0, 0, 'amazingshopbutton33').setInteractive();
 amazingshopbutton33.setOrigin(0, 0);
            amazingshopbutton33.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton33.visible = false   

 amazingshopbutton34 = this.add.sprite(0, 0, 'amazingshopbutton34').setInteractive();
 amazingshopbutton34.setOrigin(0, 0);
            amazingshopbutton34.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton34.visible = false     

 amazingshopbutton35 = this.add.sprite(0, 0, 'amazingshopbutton35').setInteractive();
 amazingshopbutton35.setOrigin(0, 0);
            amazingshopbutton35.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton35.visible = false   

 amazingshopbutton36 = this.add.sprite(0, 0, 'amazingshopbutton36').setInteractive();
 amazingshopbutton36.setOrigin(0, 0);
            amazingshopbutton36.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton36.visible = false   

 amazingshopbutton37 = this.add.sprite(0, 0, 'amazingshopbutton37').setInteractive();
 amazingshopbutton37.setOrigin(0, 0);
            amazingshopbutton37.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
          });
amazingshopbutton37.visible = false

//itemshopbuttons

 itemshophealthupbutton = this.add.sprite(0, 0, 'itemshophealthup').setInteractive();
 itemshophealthupbutton.setOrigin(0, 0);
            itemshophealthupbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
            
            buyitembox.visible = true
            buythisitembox.visible = true
            buythisitembox.anims.play('buythisitemhealthup', true);
            itemcost = '25 Green Stellar Coins'
            selectedshopitemname = 'healthup'
            itemcosttxt.visible = true
            if (greenstellarcoins > 24){
            shopbuyyes.visible = true
            shopbuyno.visible = true
            }
            if (greenstellarcoins < 25){
            notenoughcointxt.visible = true
            }

          });
itemshophealthupbutton.visible = false


 itemshopattackupbutton = this.add.sprite(0, 0, 'itemshopattackup').setInteractive();
 itemshopattackupbutton.setOrigin(0, 0);
            itemshopattackupbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
            buyitembox.visible = true
            buythisitembox.visible = true
            buythisitembox.anims.play('buythisitemattackup', true); 
            itemcost = '25 Green Stellar Coins'
            selectedshopitemname = 'attackup'
            itemcosttxt.visible = true
            if (greenstellarcoins > 24){
            shopbuyyes.visible = true
            shopbuyno.visible = true
            }
            if (greenstellarcoins < 25){
            notenoughcointxt.visible = true
            }


          });
itemshopattackupbutton.visible = false

 itemshopdefenseupbutton = this.add.sprite(0, 0, 'itemshopdefenseup').setInteractive();
 itemshopdefenseupbutton.setOrigin(0, 0);
            itemshopdefenseupbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
            buyitembox.visible = true
            buythisitembox.visible = true
            buythisitembox.anims.play('buythisitemdefenseup', true); 
            itemcost = '25 Green Stellar Coins'
            selectedshopitemname = 'defenseup'
            itemcosttxt.visible = true
             if (greenstellarcoins > 24){
            shopbuyyes.visible = true
            shopbuyno.visible = true
            }
            if (greenstellarcoins < 25){
            notenoughcointxt.visible = true
            }
          });
itemshopdefenseupbutton.visible = false

 itemshopspeedupbutton = this.add.sprite(0, 0, 'itemshopspeedup').setInteractive();
 itemshopspeedupbutton.setOrigin(0, 0);
            itemshopspeedupbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
            buyitembox.visible = true
            buythisitembox.visible = true
            buythisitembox.anims.play('buythisitemspeedup', true); 
            itemcost = '25 Green Stellar Coins'
            selectedshopitemname = 'speedup'
            itemcosttxt.visible = true
            if (greenstellarcoins > 24){
            shopbuyyes.visible = true
            shopbuyno.visible = true
            }
            if (greenstellarcoins < 25){
            notenoughcointxt.visible = true
            }
          });
itemshopspeedupbutton.visible = false

 itemshopmagicupbutton = this.add.sprite(0, 0, 'itemshopmagicup').setInteractive();
 itemshopmagicupbutton.setOrigin(0, 0);
            itemshopmagicupbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
            buyitembox.visible = true
            buythisitembox.visible = true
            buythisitembox.anims.play('buythisitemmagicup', true); 
            itemcost = '25 Green Stellar Coins'
            selectedshopitemname = 'magicup'
            itemcosttxt.visible = true
         if (greenstellarcoins > 24){
            shopbuyyes.visible = true
            shopbuyno.visible = true
            }
            if (greenstellarcoins < 25){
            notenoughcointxt.visible = true
            }
          });
itemshopmagicupbutton.visible = false

 itemshopsupportupbutton = this.add.sprite(0, 0, 'itemshopsupportup').setInteractive();
 itemshopsupportupbutton.setOrigin(0, 0);
            itemshopsupportupbutton.on('pointerdown', function (pointer) {
            this.setTint(0xff0000);
            buyitembox.visible = true
            buythisitembox.visible = true
            buythisitembox.anims.play('buythisitemsupportup', true); 
            itemcost = '25 Green Stellar Coins'
            selectedshopitemname = 'supportup'
            itemcosttxt.visible = true
            if (greenstellarcoins > 24){
            shopbuyyes.visible = true
            shopbuyno.visible = true
            }
            if (greenstellarcoins < 25){
            notenoughcointxt.visible = true
            }
          });
itemshopsupportupbutton.visible = false


  
attacktime = this.time.addEvent({ delay: 5, callback: attacktime, callbackScope: this, loop: true,startAt: 1 });

function attacktime(){
    if (cecilattacksword == true){
      if (playerfacedirection == 'right'){
        player.anims.play('sword', true);
        sword.visible = true
        sword.rotation += 0.2;
        sword.y += 4;
        sword.x += 1.6;
    }
        if (playerfacedirection == 'left'){
        player.anims.play('sword', true);
        sword.visible = true
        sword.rotation -= 0.2;
        sword.y += 4;
        sword.x -= 1.6;
    }
      
    }
  
  
    if (sword.rotation > 2) {
        cecilattacksword = false
       player.anims.play('walk', true);
        sword.visible = false
        sword.rotation = 0
        sword.y = player.y - 20
        sword.x = player.x 
    } 
  
      if (sword.rotation < -2) {
        cecilattacksword = false
       player.anims.play('walk', true);
        sword.visible = false
        sword.rotation = 0
        sword.y = player.y - 20
        sword.x = player.x 
    } 

}


//stellaranim
    
    this.anims.create({
        key: 'stellarbridgeplay',
        frames: this.anims.generateFrameNumbers('stellarbridge1', { start: 0, end: 9 }),
        frameRate: 10,
        repeat: -1
    });

    this.anims.create({
        key: 'trianglerotateplay',
        frames: this.anims.generateFrameNumbers('trianglerotate', { start: 0, end: 14 }),
        frameRate: 15,
        repeat: -1
    });

     this.anims.create({
        key: 'stellarshoptvplay',
        frames: this.anims.generateFrameNumbers('stellarshoptv', { start: 0, end: 1 }),
        frameRate: 1,
        repeat: -1
    });

        this.anims.create({
        key: 'amazinggrap1play',
        frames: this.anims.generateFrameNumbers('amazinggrap1', { start: 0, end: 30 }),
        frameRate: 25,
        repeat: -1
    });

      this.anims.create({
        key: 'amazinggrap3play',
        frames: this.anims.generateFrameNumbers('amazinggrap3', { start: 0, end: 38 }),
        frameRate: 25,
        repeat: -1
    });
    
     this.anims.create({
        key: 'oakloungerotateplay',
        frames: this.anims.generateFrameNumbers('oakloungerotate', { start: 0, end: 90 }),
        frameRate: 25,
        repeat: -1
    });

    this.anims.create({
        key: 'oakloungedropplay',
        frames: this.anims.generateFrameNumbers('oakloungedrop', { start: 0, end: 4 }),
        frameRate: 5,
        repeat: -1
    });

      this.anims.create({
        key: 'oakskullplay',
        frames: this.anims.generateFrameNumbers('oakskull', { start: 0, end: 9 }),
        frameRate: 10,
        repeat: -1
    });

    this.anims.create({
        key: 'copter1play',
        frames: this.anims.generateFrameNumbers('copter1', { start: 0, end: 5 }),
        frameRate: 20,
        repeat: -1
    });
    
   this.anims.create({
        key: 'stellarspiralplay',
        frames: this.anims.generateFrameNumbers('stellarspiral', { start: 0, end: 3 }),
        frameRate: 10,
        repeat: -1
    });
    
    this.anims.create({
        key: 'stellardoor',
        frames: this.anims.generateFrameNumbers('stellardoor', { start: 0, end: 3 }),
        frameRate: 5,
        repeat: -1
    });
    
    this.anims.create({
        key: 'fingerdoor',
        frames: this.anims.generateFrameNumbers('fingerdoor', { start: 0, end: 3 }),
        frameRate: 5,
        repeat: -1
    });

    this.anims.create({
        key: 'fingerwarpplay',
        frames: this.anims.generateFrameNumbers('fingerwarp', { start: 0, end: 199 }),
        frameRate: 5,
        repeat: -1
    });
    
    
   this.anims.create({
        key: 'fingerarrowplay',
        frames: this.anims.generateFrameNumbers('fingerarrow', { start: 0, end: 8 }),
        frameRate: 5,
        repeat: -1
    });
        
   this.anims.create({
        key: 'thefingerplay',
        frames: this.anims.generateFrameNumbers('thefinger', { start: 0, end: 0 }),
        frameRate: 2,
        repeat: 0
    });
   this.anims.create({
        key: 'fingertopplay',
        frames: this.anims.generateFrameNumbers('fingertop', { start: 0, end: 8 }),
        frameRate: 6,
        repeat: -1
    });
    
   this.anims.create({
        key: 'smokefaceplay',
        frames: this.anims.generateFrameNumbers('smokeface', { start: 0, end: 29 }),
        frameRate: 10,
        repeat: -1
    });
    
   this.anims.create({
        key: 'ramenwindowsplay',
        frames: this.anims.generateFrameNumbers('ramenstore', { start: 0, end: 3 }),
        frameRate: 2,
        repeat: -1
    });

   this.anims.create({
        key: 'arcade1play',
        frames: this.anims.generateFrameNumbers('arcade1', { start: 0, end: 35 }),
        frameRate: 10,
        repeat: -1
    });

   this.anims.create({
        key: 'arcade2play',
        frames: this.anims.generateFrameNumbers('arcade2', { start: 0, end: 44 }),
        frameRate: 10,
        repeat: -1
    });

    this.anims.create({
        key: 'arcadecoindrop',
        frames: this.anims.generateFrameNumbers('arcadecoindrop', { start: 0, end: 2 }),
        frameRate: 3,
        repeat: -1
    });
    
   this.anims.create({
        key: 'burgerwindowsplay',
        frames: this.anims.generateFrameNumbers('burgerwindows', { start: 0, end: 28 }),
        frameRate: 2,
        repeat: -1
    });
    
    this.anims.create({
        key: 'walk',
        frames: this.anims.generateFrameNumbers('cecil', { start: 0, end: 1 }),
        frameRate: 10,
        repeat: -1
    });
  
    this.anims.create({
        key: 'sword',
        frames: this.anims.generateFrameNumbers('cecil', { start: 11, end: 13 }),
        frameRate: 5,
        repeat: 0
    });

   


cursors = this.input.keyboard.createCursorKeys();
text = this.add.text(10, 10, '', { font: '16px Courier', fill: '#00ff00' }).setScrollFactor(0);



},
//stellarupdate
update: function (time, delta)
{
stellarbridge1.anims.play('stellarbridgeplay', true);
burger.anims.play('burgerwindowsplay', true);
fingerdoor.anims.play('fingerdoor', true);
fingerwarp.anims.play('fingerwarpplay', true);
stellardoor.anims.play('stellardoor', true);
stellarshoptv.anims.play('stellarshoptvplay', true);
trianglerotate.anims.play('trianglerotateplay', true);
ramen.anims.play('ramenwindowsplay', true);
oakloungerotate.anims.play('oakloungerotateplay', true);
oakloungedrop.anims.play('oakloungedropplay', true);
amazinggrap1.anims.play('amazinggrap1play', true);
amazinggrap2.anims.play('amazinggrap1play', true);
amazinggrap3.anims.play('amazinggrap3play', true);
oakskull.anims.play('oakskullplay', true);
arcade1.anims.play('arcade1play', true);
arcade2.anims.play('arcade2play', true);
arcadecoindrop.anims.play('arcadecoindrop', true);
smokeface.anims.play('smokefaceplay', true);
fingertop.anims.play('fingertopplay', true);
thefinger.anims.play('thefingerplay', true);
fingerarrow.anims.play('fingerarrowplay', true);
stellarspiral.anims.play('stellarspiralplay', true);
copter1.anims.play('copter1play', true);
copter1.x -= 5;




this.sky.tilePositionX += 0.5;
this.airplane1.x -= 1;
this.bluecar1.x += 3;
this.redcar1.x -= 4;

if (beginnayzramwandquest == true){
    trashcan.visible = true
    nayzramswand.visible = true
     
    if (player.x > trashcan.x - 25){
        if (player.x < trashcan.x + 5 ){
        if (cecilattacksword == true) {
            keyboardlock = true
            trashcan.rotation += 1.5;
            trashcan.x += 80;
            nayzramswand.x += 30;
            takeitemname = 'Nayzrams Wand'
            takeitembox.visible = true
            itemnames.visible = true
            itemnames.anims.play('itemnamenayzramwand', true);
            takeitemwindowopen = true
            
            
            
        }
    }
    }
}

if (player.x > 1360){
        playerx = 25
        playery = 375
         game.scene.stop('stellarscene')
         game.scene.start('cityoutskirtsscene');
         cursors.left.isDown = false
         areaname = '   City Outskirts'
}

if (beginnayzramwandquest == false){
  nayzramswand.visible = false
}

if (amazingshopview == true){
    mapbutton.visible = false
    statusbutton.visible = false
    inventorybutton.visible = false
   amazingshopbutton1.x = amazingshopwindow.x + 43
   amazingshopbutton1.y = amazingshopwindow.y + 25
   amazingshopbutton2.x = amazingshopwindow.x + 119
   amazingshopbutton2.y = amazingshopwindow.y + 25
   amazingshopbutton3.x = amazingshopwindow.x + 195
   amazingshopbutton3.y = amazingshopwindow.y + 25
   amazingshopbutton4.x = amazingshopwindow.x + 270
   amazingshopbutton4.y = amazingshopwindow.y + 25
   amazingshopbutton5.x = amazingshopwindow.x + 347
   amazingshopbutton5.y = amazingshopwindow.y + 25
   amazingshopbutton6.x = amazingshopwindow.x + 423
   amazingshopbutton6.y = amazingshopwindow.y + 25
   amazingshopbutton7.x = amazingshopwindow.x + 499
   amazingshopbutton7.y = amazingshopwindow.y + 25
   amazingshopbutton8.x = amazingshopwindow.x + 575
   amazingshopbutton8.y = amazingshopwindow.y + 25
   amazingshopbutton9.x = amazingshopwindow.x + 652
   amazingshopbutton9.y = amazingshopwindow.y + 25
   amazingshopbutton10.x = amazingshopwindow.x + 729
   amazingshopbutton10.y = amazingshopwindow.y + 25
   amazingshopbutton11.x = amazingshopwindow.x + 805
   amazingshopbutton11.y = amazingshopwindow.y + 25
   amazingshopbutton12.x = amazingshopwindow.x + 881
   amazingshopbutton12.y = amazingshopwindow.y + 25
   amazingshopbutton13.x = amazingshopwindow.x + 957
   amazingshopbutton13.y = amazingshopwindow.y + 25
   amazingshopbutton14.x = amazingshopwindow.x + 1034
   amazingshopbutton14.y = amazingshopwindow.y + 25
   amazingshopbutton15.x = amazingshopwindow.x + 1111
   amazingshopbutton15.y = amazingshopwindow.y + 25
   amazingshopbutton16.x = amazingshopwindow.x + 1187
   amazingshopbutton16.y = amazingshopwindow.y + 25
   amazingshopbutton17.x = amazingshopwindow.x + 119
   amazingshopbutton17.y = amazingshopwindow.y + 112
   amazingshopbutton18.x = amazingshopwindow.x + 271
   amazingshopbutton18.y = amazingshopwindow.y + 112
   amazingshopbutton19.x = amazingshopwindow.x + 423
   amazingshopbutton19.y = amazingshopwindow.y + 112
   amazingshopbutton20.x = amazingshopwindow.x + 575
   amazingshopbutton20.y = amazingshopwindow.y + 112
   amazingshopbutton21.x = amazingshopwindow.x + 729
   amazingshopbutton21.y = amazingshopwindow.y + 112
   amazingshopbutton22.x = amazingshopwindow.x + 881
   amazingshopbutton22.y = amazingshopwindow.y + 112
   amazingshopbutton23.x = amazingshopwindow.x + 1033
   amazingshopbutton23.y = amazingshopwindow.y + 112
   amazingshopbutton24.x = amazingshopwindow.x + 119
   amazingshopbutton24.y = amazingshopwindow.y + 268
   amazingshopbutton25.x = amazingshopwindow.x + 271
   amazingshopbutton25.y = amazingshopwindow.y + 268
   amazingshopbutton26.x = amazingshopwindow.x + 423
   amazingshopbutton26.y = amazingshopwindow.y + 268
   amazingshopbutton27.x = amazingshopwindow.x + 575
   amazingshopbutton27.y = amazingshopwindow.y + 268
   amazingshopbutton28.x = amazingshopwindow.x + 729
   amazingshopbutton28.y = amazingshopwindow.y + 268
   amazingshopbutton29.x = amazingshopwindow.x + 881
   amazingshopbutton29.y = amazingshopwindow.y + 268
   amazingshopbutton30.x = amazingshopwindow.x + 1033
   amazingshopbutton30.y = amazingshopwindow.y + 268
   amazingshopbutton31.x = amazingshopwindow.x + 119
   amazingshopbutton31.y = amazingshopwindow.y + 424
   amazingshopbutton32.x = amazingshopwindow.x + 271
   amazingshopbutton32.y = amazingshopwindow.y + 424
   amazingshopbutton33.x = amazingshopwindow.x + 423
   amazingshopbutton33.y = amazingshopwindow.y + 424
   amazingshopbutton34.x = amazingshopwindow.x + 575
   amazingshopbutton34.y = amazingshopwindow.y + 424
   amazingshopbutton35.x = amazingshopwindow.x + 729
   amazingshopbutton35.y = amazingshopwindow.y + 424
   amazingshopbutton36.x = amazingshopwindow.x + 881
   amazingshopbutton36.y = amazingshopwindow.y + 424
   amazingshopbutton37.x = amazingshopwindow.x + 1033
   amazingshopbutton37.y = amazingshopwindow.y + 424

   amazingshopbutton1.visible = true
   amazingshopbutton2.visible = true
   amazingshopbutton3.visible = true
   amazingshopbutton4.visible = true
   amazingshopbutton5.visible = true
   amazingshopbutton6.visible = true
   amazingshopbutton7.visible = true
   amazingshopbutton8.visible = true
   amazingshopbutton9.visible = true
   amazingshopbutton10.visible = true
   amazingshopbutton11.visible = true
   amazingshopbutton12.visible = true
   amazingshopbutton13.visible = true
   amazingshopbutton14.visible = true
   amazingshopbutton15.visible = true
   amazingshopbutton16.visible = true
   amazingshopbutton17.visible = true
   amazingshopbutton18.visible = true
   amazingshopbutton19.visible = true
   amazingshopbutton20.visible = true
   amazingshopbutton21.visible = true
   amazingshopbutton22.visible = true
   amazingshopbutton23.visible = true
   amazingshopbutton24.visible = true
   amazingshopbutton25.visible = true
   amazingshopbutton26.visible = true
   amazingshopbutton27.visible = true
   amazingshopbutton28.visible = true
   amazingshopbutton29.visible = true
   amazingshopbutton30.visible = true
   amazingshopbutton31.visible = true
   amazingshopbutton32.visible = true
   amazingshopbutton33.visible = true
   amazingshopbutton34.visible = true
   amazingshopbutton35.visible = true
   amazingshopbutton36.visible = true
   amazingshopbutton37.visible = true

}

if (itemshopopenview == true){
    keyboardlock = true
     mapbutton.visible = false
    statusbutton.visible = false
    inventorybutton.visible = false
    itemshophealthupbutton.x = itemshopwindow.x + 55
    itemshophealthupbutton.y = itemshopwindow.y + 88
    itemshopattackupbutton.x = itemshopwindow.x + 255
    itemshopattackupbutton.y = itemshopwindow.y + 88
    itemshopdefenseupbutton.x = itemshopwindow.x + 455
    itemshopdefenseupbutton.y = itemshopwindow.y + 88
    itemshopspeedupbutton.x = itemshopwindow.x + 655
    itemshopspeedupbutton.y = itemshopwindow.y + 88
    itemshopmagicupbutton.x = itemshopwindow.x + 855
    itemshopmagicupbutton.y = itemshopwindow.y + 88
    itemshopsupportupbutton.x = itemshopwindow.x + 1055
    itemshopsupportupbutton.y = itemshopwindow.y + 88

    itemshophealthupbutton.visible = true
    itemshopattackupbutton.visible = true
    itemshopdefenseupbutton.visible = true
    itemshopspeedupbutton.visible = true
    itemshopmagicupbutton.visible = true
    itemshopsupportupbutton.visible = true

}

  if (this.city.tilePositionX < 0)
    {
    this.city.tilePositionX += 1;
    this.back2.tilePositionX += 0.5;
    stellarbridge1.x -= 1;
    cecilofficedooropen.x -= 1;
    amazingupgradesfront.x -= 1;
    amazingupgradesback.x -= 1;
    amazinggrap1.x -= 1;
    amazinggrap2.x -= 1;
    amazinggrap3.x -= 1;
    stellardoor.x -= 1;
    stellarshoptv.x -= 1;
    fingerdoor.x -= 1;
    fingerwarp.x -= 1;
    ramen.x -= 1;
    oakloungerotate.x -= 1;
    oakloungedrop.x -= 1;
    oakloungedoor.x -= 1;
    oakskull.x -= 1;
    arcade1.x -= 1;
    arcade2.x -= 1;
    arcadecoindrop.x -=1;
    burger.x -= 1;
    smokeface.x -= 1;
    fingertop.x -= 1;
    thefinger.x -= 1;
    fingerarrow.x -= 1;
    stellarspiral.x -= 1;
    trianglerotate.x -= 1;
    trashcan.x -= 1;
    nayzramswand.x -= 1;
    nayzram.x -= 1;
    player.x -= 1;
    }

     if (this.city.tilePositionX > 6635)
    {
    this.city.tilePositionX -= 1;
    this.back2.tilePositionX -= 0.5;
    stellarbridge1.x += 1;
    cecilofficedooropen.x += 1;
    amazingupgradesfront.x += 1;
    amazingupgradesback.x += 1;
    amazinggrap1.x += 1;
    amazinggrap2.x += 1;
    amazinggrap3.x += 1;
    stellardoor.x += 1;
    stellarshoptv.x += 1;
    fingerdoor.x += 1;
    fingerwarp.x += 1;
    ramen.x += 1;
    oakloungerotate.x += 1;
    oakloungedrop.x += 1;
    oakloungedoor.x += 1;
    oakskull.x += 1;
    arcade1.x += 1;
    arcade2.x += 1;
    arcadecoindrop.x +=1;
    burger.x += 1;
    smokeface.x += 1;
    fingertop.x += 1;
    thefinger.x += 1;
    fingerarrow.x += 1;
    stellarspiral.x += 1;
    trianglerotate.x += 1;
    trashcan.x += 1;
    nayzramswand.x += 1;
    nayzram.x += 1;
    player.x += 1;
    }

    if (nayzram.visible == true){
        if (player.x < nayzram.x +25){
            nayzramwandquestend = true
            speechbubbleshow = true
            
        }
    }

if (player.x > cecilofficedooropen.x -20)
if (player.x < cecilofficedooropen.x +100)
{
{
cecilofficedooropen.visible = true
cecilofficedooropen = true
}
}


if (player.x > cecilofficedooropen.x +100){
cecilofficedooropen.visible = false
 
}



if (player.x > stellardoor.x -20)
if (player.x < stellardoor.x +20)
{
{
stellardoor.visible = true
standingfrontitemshop = true
}
}

if (player.x < stellardoor.x -20)
{

stellardoor.visible = false
standingfrontitemshop = false
}
if (player.x > stellardoor.x +20)
{

stellardoor.visible = false
standingfrontitemshop = false
}


if (player.x > oakloungedoor.x -20)
if (player.x < oakloungedoor.x +20)
{
{
oakloungedoor.visible = true
}
}

   

this.input.on('gameobjectdown', function (pointer, gameObject) {
gameObject.setTint(0x0000ff);
 });

    if (cursors.up.isDown)
    {
   
    if (player.x > amazingupgradesfront.x + 158){
    if (player.x < amazingupgradesfront.x + 200){
    amazingshopwindow.x = 32
    amazingshopview = true
    amazingshopwindow.visible = true
    keyboardlock = true
}
}
    if (itemshopopenview == true){
    itemshopwindow.visible = true
    }
    
    if (player.x > stellardoor.x -20)
    if (player.x < stellardoor.x +20)
    {
    {
    itemshopwindow.x = 32
    itemshopopenview = true
   
    }
    }

    if (cecilofficedooropen == true){
        playerx = 1200
        playery = 308
        officebackgroundx = 639
     game.scene.stop('stellarscene')
     game.scene.start('officescene')
    areaname = '     The Office'
    }
//oakloungedoor
if (player.x > oakloungedoor.x -20)
if (player.x < oakloungedoor.x +20)
{
{
oakloungedoor.visible = true
stellarcitybackgroundx = 5401
playerx = 370
playery = 245
cursors.up.isDown = false
cursors.down.isDown = false
cursors.left.isDown = false
cursors.right.isDown = false
game.scene.stop('stellarscene')
game.scene.start('oakloungescene')
areaname = '  The Oak Lounge'
}
}

    }
    
     if (cursors.down.isDown)
    {

    if (amazingshopview == true){
    amazingshopview = false
    mapbutton.visible = true
    statusbutton.visible = true
    inventorybutton.visible = true
    amazingshopwindow.visible = false
    amazingshopbutton1.visible = false
    amazingshopbutton2.visible = false
    amazingshopbutton3.visible = false
    amazingshopbutton4.visible = false
    amazingshopbutton5.visible = false
    amazingshopbutton6.visible = false
    amazingshopbutton7.visible = false
    amazingshopbutton8.visible = false
    amazingshopbutton9.visible = false
    amazingshopbutton10.visible = false
    amazingshopbutton11.visible = false
    amazingshopbutton12.visible = false
    amazingshopbutton13.visible = false
    amazingshopbutton14.visible = false
    amazingshopbutton15.visible = false
    amazingshopbutton16.visible = false
    amazingshopbutton17.visible = false
    amazingshopbutton18.visible = false
    amazingshopbutton19.visible = false
    amazingshopbutton20.visible = false
    amazingshopbutton21.visible = false
    amazingshopbutton22.visible = false
    amazingshopbutton23.visible = false
    amazingshopbutton24.visible = false
    amazingshopbutton25.visible = false
    amazingshopbutton26.visible = false
    amazingshopbutton27.visible = false
    amazingshopbutton28.visible = false
    amazingshopbutton29.visible = false
    amazingshopbutton30.visible = false
    amazingshopbutton31.visible = false
    amazingshopbutton32.visible = false
    amazingshopbutton33.visible = false
    amazingshopbutton34.visible = false
    amazingshopbutton35.visible = false
    amazingshopbutton36.visible = false
    amazingshopbutton37.visible = false
    keyboardlock = false
    }
//itemshopclose

    if (itemshopopenview == true){
    keyboardlock = false
     mapbutton.visible = true
    statusbutton.visible = true
    inventorybutton.visible = true
    itemshophealthupbutton.visible = false
    itemshopattackupbutton.visible = false
    itemshopdefenseupbutton.visible = false
    itemshopspeedupbutton.visible = false
    itemshopmagicupbutton.visible = false
    itemshopsupportupbutton.visible = false
    itemshopopenview = false
    itemshopwindow.visible = false
    buyitembox.visible = false
    buythisitembox.visible = false
    itemcost = ''
    selectedshopitemname = ''
    itemcosttxt.visible = false
    shopbuyyes.visible = false
    shopbuyno.visible = false
    notenoughcointxt.visible = false


    }
    }
    
  if (keyboardlock == false){
    if (walkingdirection == 'left'){
    if (cursors.left.isDown)
    {

    
    if (player.x < 650){
    player.x += 1;
    stellarbridge1.x += 1;
    stellarshoptv.x += 1;
    cecilofficedooropen.x += 1;
    amazingupgradesfront.x += 1;
    amazingupgradesback.x += 1;
    amazinggrap1.x += 1;
    amazinggrap2.x += 1;
    amazinggrap3.x += 1;
    stellardoor.x += 1;
    oakloungedoor.x += 1;
    fingerdoor.x += 1;
    fingerwarp.x += 1;
    ramen.x += 1;
    oakloungerotate.x += 1;
    oakloungedrop.x += 1;
    oakskull.x += 1;
    arcade1.x += 1;
    arcade2.x += 1;
    arcadecoindrop.x +=1;
    burger.x += 1;
    smokeface.x += 1;
    fingertop.x += 1;
    thefinger.x += 1;
    fingerarrow.x += 1;
    stellarspiral.x += 1;
    trianglerotate.x += 1;
    trashcan.x += 1;
    nayzramswand.x += 1;
    nayzram.x += 1;
    this.fiatpanda.x += 1;
    player.setVelocityX(-0);
    this.back2.tilePositionX -= 0.5;
    this.city.tilePositionX -= 1;
    this.airplane1.x += 0.5;
    }
    }
    }


    
    else if (cursors.right.isDown)
    {
    if (walkingdirection == 'right'){
    if (player.x > 648){
    player.x -= 1;
    stellarbridge1.x -= 1;
    cecilofficedooropen.x -= 1;
    amazingupgradesfront.x -= 1;
    amazingupgradesback.x -= 1;
    amazinggrap1.x -= 1;
    amazinggrap2.x -= 1;
    amazinggrap3.x -= 1;
    stellardoor.x -= 1;
    oakloungedoor.x -= 1;
    stellarshoptv.x -= 1;
    fingerdoor.x -= 1;
    fingerwarp.x -= 1;
    ramen.x -= 1;
    oakloungerotate.x -= 1;
    oakloungedrop.x -= 1;
    oakskull.x -= 1;
    arcade1.x -= 1;
    arcade2.x -= 1;
    arcadecoindrop.x -=1;
    burger.x -= 1;
    smokeface.x -= 1;
    fingertop.x -= 1;
    thefinger.x -= 1;
    fingerarrow.x -= 1;
    stellarspiral.x -= 1;
    trianglerotate.x -= 1;
    trashcan.x -= 1;
    nayzramswand.x -= 1;
    nayzram.x -= 1;
    this.fiatpanda.x -= 1;
    this.airplane1.x -= 1;
    this.sky.tilePositionX += 0.9;
    this.back2.tilePositionX += 0.5;
    this.city.tilePositionX += 1;
    copter1.setVelocityX(-150);
    }
    }
    }
    
    else
    {
       
        player.anims.stop('walk', true);
          
}
}

if (debugview == true){
text.setText([
        'world x: ' + this.input.mousePointer.worldX,
        'world y: ' + this.input.mousePointer.worldY,
        this.city.tilePositionX,
        player.x,
        oakloungedoor.y
    ]);
}
}
});



//oakloungescene
//oakloungescene
var oakloungescene = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function oakloungescene ()
    {
        Phaser.Scene.call(this, { key: 'oakloungescene' });
    },

    preload: function ()
    {
      
    },
//oakcreate
create: function ()
{
        
        colorsmear = this.physics.add.sprite(20, 0, 'colorsmear').setOrigin(0, 0);
        colortrip = this.physics.add.sprite(150, 0, 'colortrip').setOrigin(0, 0);
        outsidebackground = this.physics.add.sprite(460, 0, 'colortrip').setOrigin(0, 0);
        trianglean = this.physics.add.sprite(790, 5, 'trianglean').setOrigin(0, 0);
        oakloungeclubinside = this.add.tileSprite(0, 0, 2000, 600, 'oakloungeclubinside').setOrigin(0, 0);
        doorlights = this.physics.add.sprite(355, 10, 'doorlights').setOrigin(0, 0);
        tablelamp = this.physics.add.sprite(1285, 143, 'tablelamp1');
        player = this.physics.add.sprite(playerx, playery, 'cecil');
        sword = this.physics.add.sprite(player.x , player.y - 13, 'sword1');
        sword.visible = false
        sword.rotation += 0.5;
        scenename = 'oakloungescene'

attacktime = this.time.addEvent({ delay: 5, callback: attacktime, callbackScope: this, loop: true,startAt: 1 });

function attacktime(){
    if (cecilattacksword == true){
      if (playerfacedirection == 'right'){
        player.anims.play('sword', true);
        sword.visible = true
        sword.rotation += 0.2;
        sword.y += 4;
        sword.x += 1.6;
    }
        if (playerfacedirection == 'left'){
        player.anims.play('sword', true);
        sword.visible = true
        sword.rotation -= 0.2;
        sword.y += 4;
        sword.x -= 1.6;
    }
      
    }
  
  
    if (sword.rotation > 2) {
        cecilattacksword = false
       player.anims.play('walk', true);
        sword.visible = false
        sword.rotation = 0
        sword.y = player.y - 20
        sword.x = player.x 
    } 
  
      if (sword.rotation < -2) {
        cecilattacksword = false
       player.anims.play('walk', true);
        sword.visible = false
        sword.rotation = 0
        sword.y = player.y - 20
        sword.x = player.x 
    } 

}

 this.input.setPollAlways();
        this.input.on('gameobjectover', function (pointer, gameObject) {
        gameObject.setTint(0xff0000);
    });
    
        this.input.on('gameobjectout', function (pointer, gameObject) {
        gameObject.clearTint();
    });        

        this.anims.create({
        key: 'walk',
        frames: this.anims.generateFrameNumbers('cecil', { start: 0, end: 1 }),
        frameRate: 10,
        repeat: -1
    });
  
    this.anims.create({
        key: 'sword',
        frames: this.anims.generateFrameNumbers('cecil', { start: 11, end: 13 }),
        frameRate: 5,
        repeat: 0
    });

     this.anims.create({
        key: 'tablelampplay',
        frames: this.anims.generateFrameNumbers('tablelamp1', { start: 0, end: 4}),
        frameRate: 5,
        repeat: 0
    });
         this.anims.create({
        key: 'doorlightsplay',
        frames: this.anims.generateFrameNumbers('doorlights', { start: 0, end: 3}),
        frameRate: 5,
        repeat: 0
    });

        this.anims.create({
        key: 'triangleanplay',
        frames: this.anims.generateFrameNumbers('trianglean', { start: 0, end: 38}), 
        frameRate: 20,
        repeat: 0
    });
            this.anims.create({
        key: 'colorsmearplay',
        frames: this.anims.generateFrameNumbers('colorsmear', { start: 0, end: 19}), 
        frameRate: 15,
        repeat: 0
    });
        this.anims.create({
        key: 'colortripplay',
        frames: this.anims.generateFrameNumbers('colortrip', { start: 0, end: 15}), 
        frameRate: 15,
        repeat: 0
    });
    this.anims.create({
        key: 'outsidebackgroundplay',
        frames: this.anims.generateFrameNumbers('outsidebackground', { start: 0, end: 173}), 
        frameRate: 5,
        repeat: 0
    });


    cursors = this.input.keyboard.createCursorKeys();
    text = this.add.text(10, 10, 'Cursors to move', { font: '16px Courier', fill: '#00ff00' }).setScrollFactor(0);
        
},
//oakloungeupdate
update: function (time, delta)
{
tablelamp.anims.play('tablelampplay', true);
doorlights.anims.play('doorlightsplay', true);
trianglean.anims.play('triangleanplay', true);
colorsmear.anims.play('colorsmearplay', true);
colortrip.anims.play('colortripplay', true);
outsidebackground.anims.play('outsidebackgroundplay', true);
if (player.x < 1){
    player.x += 1;
}

if (oakloungeclubinside.tilePositionX < 0)
    {
    oakloungeclubinside.tilePositionX = 0;
    player.x -= 1;
    doorlights.x -= 1;
    tablelamp.x -= 1;
    trianglean.x -= 1;
    colorsmear.x -= 1;
    colortrip.x -= 1;
    outsidebackground.x -= 1;
    
 

    }

    if (oakloungeclubinside.tilePositionX > 559)
    {
    oakloungeclubinside.tilePositionX = 559;
    player.x += 1;
    tablelamp.x += 1;
    doorlights.x += 1;
    trianglean.x += 1;
    colorsmear.x += 1;
    colortrip.x += 1;
    outsidebackground.x += 1;
    }

  if (keyboardlock == false){
    if (cursors.left.isDown){
    if (player.x < 650){
    player.x += 1;
    tablelamp.x += 1;
    doorlights.x += 1;
    trianglean.x += 1;
    colorsmear.x += 1;
    colortrip.x += 1;
    outsidebackground.x += 1;
    oakloungeclubinside.tilePositionX -= 1;
    
    }
    }
    
    else if (cursors.right.isDown){
    if (player.x > 648){
    player.x -= 1;
   tablelamp.x -= 1;
   doorlights.x -= 1;
   trianglean.x -= 1;
   colorsmear.x -= 1;
   colortrip.x -= 1;
   outsidebackground.x -= 1;
   oakloungeclubinside.tilePositionX += 1;
    
    }
    }

    else if (cursors.up.isDown)
    {
    if (player.y > 176) {
    player.y -= 1;
    player.anims.play('walk', true);
    }

    if (player.x > 360){
    if (player.x < 432){
    if (player.y < 179){
     playerx = 749
     playery = 470
     stellarcitybackgroundx = 5400
     game.scene.stop('oakloungescene')
     scenename = 'stellarscene'

     game.scene.start('stellarscene'); 
     cursors.up.isDown = false
     cursors.down.isDown = false
     cursors.left.isDown = false
     cursors.right.isDown = false
     areaname = '     Stellar City'
    }
    }
    }
    } 
 
 
    
    else if (cursors.down.isDown)
    {
        if (player.y < 600){
    player.y += 1;
    player.anims.play('walk', true);
    }
    }
    
    else
    {
      player.setVelocityX(0);
      player.anims.stop('walk', true);
      
}
}
  
     
text.setText([
        'world x: ' + this.input.mousePointer.worldX,
        'world y: ' + this.input.mousePointer.worldY,
        player.x,
        oakloungeclubinside.x,
        player.y
        
    ]);
}
});

//cityoutskirts
var cityoutskirtsscene = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function cityoutskirtsscene ()
    {
        Phaser.Scene.call(this, { key: 'cityoutskirtsscene' });
    },

    preload: function ()
    {
      
    },

create: function ()
{
        
       
        this.cityoutskirtsbackground = this.add.sprite(0, 0, 'cityoutskirtsbackground').setOrigin(0, 0);
        player = this.physics.add.sprite(playerx, playery, 'cecil');
        sword = this.physics.add.sprite(player.x , player.y - 13, 'sword1');
        sword.visible = false
        sword.rotation += 0.5;
        scenename = 'outskirts'

attacktime = this.time.addEvent({ delay: 5, callback: attacktime, callbackScope: this, loop: true,startAt: 1 });

function attacktime(){
    if (cecilattacksword == true){
      if (playerfacedirection == 'right'){
        player.anims.play('sword', true);
        sword.visible = true
        sword.rotation += 0.2;
        sword.y += 4;
        sword.x += 1.6;
    }
        if (playerfacedirection == 'left'){
        player.anims.play('sword', true);
        sword.visible = true
        sword.rotation -= 0.2;
        sword.y += 4;
        sword.x -= 1.6;
    }
      
    }
  
  
    if (sword.rotation > 2) {
        cecilattacksword = false
       player.anims.play('walk', true);
        sword.visible = false
        sword.rotation = 0
        sword.y = player.y - 20
        sword.x = player.x 
    } 
  
      if (sword.rotation < -2) {
        cecilattacksword = false
       player.anims.play('walk', true);
        sword.visible = false
        sword.rotation = 0
        sword.y = player.y - 20
        sword.x = player.x 
    } 

}

 this.input.setPollAlways();
        this.input.on('gameobjectover', function (pointer, gameObject) {
        gameObject.setTint(0xff0000);
    });
    
        this.input.on('gameobjectout', function (pointer, gameObject) {
        gameObject.clearTint();
    });        

        this.anims.create({
        key: 'walk',
        frames: this.anims.generateFrameNumbers('cecil', { start: 0, end: 1 }),
        frameRate: 10,
        repeat: -1
    });
  
    this.anims.create({
        key: 'sword',
        frames: this.anims.generateFrameNumbers('cecil', { start: 11, end: 13 }),
        frameRate: 5,
        repeat: 0
    });

    cursors = this.input.keyboard.createCursorKeys();
    text = this.add.text(10, 10, 'Cursors to move', { font: '16px Courier', fill: '#00ff00' }).setScrollFactor(0);
        
},

update: function (time, delta)
{

  if (player.x > 1365){
        playerx = 25
        playery = 500
         game.scene.stop('cityoutskirtsscene')
         game.scene.start('graveyardgatesscene');
         cursors.left.isDown = false
         cursors.right.isDown = false
         areaname = 'Graveyard Gates'
     }

      if (player.x < 1){
        playerx = 1300
        playery = 475
        stellarcitybackgroundx = 6635
        game.scene.stop('cityoutskirtsscene')
        game.scene.start('stellarscene');
        cursors.right.isDown = false
        cursors.left.isDown = false
        areaname = '     Stellar City'
     }

  if (keyboardlock == false){
    if (walkingdirection == 'left'){
    if (cursors.left.isDown){
 
    
    }
    }
    
    else if (cursors.right.isDown)
    {
    if (walkingdirection == 'right'){
    }
     
    }

    else if (cursors.up.isDown)
    {
        if (player.y > 315) {

    player.y -= 1;
    player.anims.play('walk', true);
    }
    } 
 
    
    else if (cursors.down.isDown)
    {
        if (player.y < 565){
    player.y += 1;
    player.anims.play('walk', true);
    }
    }
    
    else
    {
      player.setVelocityX(0);
      player.anims.stop('walk', true);
      
}
}
     

text.setText([
        'world x: ' + this.input.mousePointer.worldX,
        'world y: ' + this.input.mousePointer.worldY,
        player.x,
        playerx,
        player.y
        
    ]);
}
});

//graveyardgatesscene
//graveyardgates
var graveyardgatesscene = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function graveyardgatesscene ()
    {
        Phaser.Scene.call(this, { key: 'graveyardgatesscene' });
    },

    preload: function ()
    {
      
    },

create: function ()
{
       
        this.back = this.add.sprite(0, 0, 'back').setOrigin(0, 0);
        this.sky = this.add.tileSprite(0, 0, 4000, 600, 'sky').setOrigin(0, 0);
        this.graveyardgatesbackground = this.add.sprite(0, 0, 'graveyardgatesbackground').setOrigin(0, 0);
        player = this.physics.add.sprite(playerx, playery, 'cecil');
        sword = this.physics.add.sprite(player.x , player.y - 13, 'sword1');
        sword.visible = false
        sword.rotation += 0.5;
        scenename = 'graveyardgates'

attacktime = this.time.addEvent({ delay: 5, callback: attacktime, callbackScope: this, loop: true,startAt: 1 });

function attacktime(){
    if (cecilattacksword == true){
      if (playerfacedirection == 'right'){
        player.anims.play('sword', true);
        sword.visible = true
        sword.rotation += 0.2;
        sword.y += 4;
        sword.x += 1.6;
    }
        if (playerfacedirection == 'left'){
        player.anims.play('sword', true);
        sword.visible = true
        sword.rotation -= 0.2;
        sword.y += 4;
        sword.x -= 1.6;
    }
      
    }
  
  
    if (sword.rotation > 2) {
        cecilattacksword = false
       player.anims.play('walk', true);
        sword.visible = false
        sword.rotation = 0
        sword.y = player.y - 20
        sword.x = player.x 
    } 
  
      if (sword.rotation < -2) {
        cecilattacksword = false
       player.anims.play('walk', true);
        sword.visible = false
        sword.rotation = 0
        sword.y = player.y - 20
        sword.x = player.x 
    } 

}

 this.input.setPollAlways();
        this.input.on('gameobjectover', function (pointer, gameObject) {
        gameObject.setTint(0xff0000);
    });
    
        this.input.on('gameobjectout', function (pointer, gameObject) {
        gameObject.clearTint();
    });        

        this.anims.create({
        key: 'walk',
        frames: this.anims.generateFrameNumbers('cecil', { start: 0, end: 1 }),
        frameRate: 10,
        repeat: -1
    });
  
    this.anims.create({
        key: 'sword',
        frames: this.anims.generateFrameNumbers('cecil', { start: 11, end: 13 }),
        frameRate: 5,
        repeat: 0
    });

    cursors = this.input.keyboard.createCursorKeys();
    text = this.add.text(10, 10, 'Cursors to move', { font: '16px Courier', fill: '#00ff00' }).setScrollFactor(0);
        
},

update: function (time, delta)
{
this.sky.tilePositionX += 0.5;
   if (player.x < 0){
            playerx = 1200
            playery = 325
            game.scene.stop('graveyardgatesscene')
            game.scene.start('cityoutskirtsscene');
            cursors.right.isDown = false
            cursors.left.isDown = false
            areaname = '      Outskirts'
   }




  if (keyboardlock == false){
    if (cursors.left.isDown)
    {
  
   if (player.x > 900){
   if (player.x < 942){
   if (player.y < 495){
    player.x += 1;
   }
   }
   }
   }
    
    else if (cursors.right.isDown)
    {
       
   if (player.x > 1230){
   if (player.y < 495){
    player.x -= 1;
   }
   }
   
     if (player.x > 1345){
    playerx = 25
    playery = 530
    game.scene.stop('graveyardgatesscene')
    game.scene.start('outsidecityscene');
    cursors.left.isDown = false
    areaname = '     Outside City'
}
    }

    else if (cursors.up.isDown)
    {
    if (player.y > 315) {
    player.y -= 1;
    player.anims.play('walk', true);
    }

    if (player.x > 1230){
    if (player.y < 495){
    player.y += 1;
   }
    }

    if (player.x > 1000){
        if (player.y < 320){
            playerx = 678
            playery = 531
            graveyardsceneabackgroundx = 0
            game.scene.stop('graveyardgatesscene')
            game.scene.start('graveyardscenea');
            cursors.down.isDown = false
            areaname = '  The Graveyard'
        }
    }

   if (player.x < 900){
   if (player.y < 495){
    player.y += 1;
   }
   }
   } 
 
 
    
    else if (cursors.down.isDown)
    {
        if (player.y < 565){
    player.y += 1;
    player.anims.play('walk', true);
    }
    }
    
    else
    {
      player.setVelocityX(0);
      player.anims.stop('walk', true);
      
}
}
     
text.setText([
        'world x: ' + this.input.mousePointer.worldX,
        'world y: ' + this.input.mousePointer.worldY,
        player.x,
        playerx,
        player.y
        
    ]);
}
});


//graveyardscenea
//graveyardscenea
var graveyardscenea = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function graveyardscenea ()
    {
        Phaser.Scene.call(this, { key: 'graveyardscenea' });
    },

    preload: function ()
    {
      
    },

create: function ()
{
       
        this.back = this.add.sprite(0, 0, 'back').setOrigin(0, 0);
        this.sky = this.add.tileSprite(0, 0, 4000, 600, 'sky').setOrigin(0, 0);
        graveyardsceneabackground = this.add.tileSprite(0, 0, 1920, 600, 'graveyardsceneabackground').setOrigin(0, 0);
        graveyardsceneabackground.tilePositionX = graveyardsceneabackgroundx
        
        graveyardabuildinganimationb = this.add.sprite(528- graveyardsceneabackground.tilePositionX, 97, 'graveyardbuildingbanimate').setOrigin(0, 0);
        graveyardabuildinganimationc = this.add.sprite(709- graveyardsceneabackground.tilePositionX, 230, 'graveyardbuildingcanimate').setOrigin(0, 0);
        graveyardabuildinganimationd = this.add.sprite(1376- graveyardsceneabackground.tilePositionX, 270, 'graveyardbuildingdanimate').setOrigin(0, 0);
        graveyardabuildinganimatione = this.add.sprite(364- graveyardsceneabackground.tilePositionX, 66, 'graveyardbuildingeanimate').setOrigin(0, 0); 
        scenename = 'graveyarda'

        player = this.physics.add.sprite(playerx, playery, 'cecil');
        sword = this.physics.add.sprite(player.x , player.y - 13, 'sword1');
        sword.visible = false
        sword.rotation += 0.5;

attacktime = this.time.addEvent({ delay: 5, callback: attacktime, callbackScope: this, loop: true,startAt: 1 });

  this.anims.create({
        key: 'graveyardabuildingaplay',
        frames: this.anims.generateFrameNumbers('graveyardbuildingaanimate', { start: 0, end: 2 }), 
        frameRate: 1,
        repeat: 0
    });
    this.anims.create({
        key: 'graveyardabuildingbplay',
        frames: this.anims.generateFrameNumbers('graveyardbuildingbanimate', { start: 0, end: 6 }), 
        frameRate: 4,
        repeat: -1
    });
    this.anims.create({
        key: 'graveyardabuildingcplay',
        frames: this.anims.generateFrameNumbers('graveyardbuildingcanimate', { start: 0, end: 7 }), 
        frameRate: 6,
        repeat: -1
    });
    this.anims.create({
        key: 'graveyardabuildingdplay',
        frames: this.anims.generateFrameNumbers('graveyardbuildingdanimate', { start: 0, end: 4 }), 
        frameRate: 4,
        repeat: -1
    });
    this.anims.create({
        key: 'graveyardabuildingeplay',
        frames: this.anims.generateFrameNumbers('graveyardbuildingeanimate', { start: 0, end: 1 }), 
        frameRate: 2,
        repeat: -1
    });



function attacktime(){
    if (cecilattacksword == true){
      if (playerfacedirection == 'right'){
        player.anims.play('sword', true);
        sword.visible = true
        sword.rotation += 0.2;
        sword.y += 4;
        sword.x += 1.6;
    }
        if (playerfacedirection == 'left'){
        player.anims.play('sword', true);
        sword.visible = true
        sword.rotation -= 0.2;
        sword.y += 4;
        sword.x -= 1.6;
    }
      
    }
  
  
    if (sword.rotation > 2) {
        cecilattacksword = false
       player.anims.play('walk', true);
        sword.visible = false
        sword.rotation = 0
        sword.y = player.y - 20
        sword.x = player.x 
    } 
  
      if (sword.rotation < -2) {
        cecilattacksword = false
       player.anims.play('walk', true);
        sword.visible = false
        sword.rotation = 0
        sword.y = player.y - 20
        sword.x = player.x 
    } 

}

 this.input.setPollAlways();
        this.input.on('gameobjectover', function (pointer, gameObject) {
        gameObject.setTint(0xff0000);
    });
    
        this.input.on('gameobjectout', function (pointer, gameObject) {
        gameObject.clearTint();
    });        

        this.anims.create({
        key: 'walk',
        frames: this.anims.generateFrameNumbers('cecil', { start: 0, end: 1 }),
        frameRate: 10,
        repeat: -1
    });
  
    this.anims.create({
        key: 'sword',
        frames: this.anims.generateFrameNumbers('cecil', { start: 11, end: 13 }),
        frameRate: 5,
        repeat: 0
    });

    cursors = this.input.keyboard.createCursorKeys();
    text = this.add.text(10, 10, 'Cursors to move', { font: '16px Courier', fill: '#00ff00' }).setScrollFactor(0);
        
},

update: function (time, delta)
{

 graveyardabuildinganimationb.anims.play('graveyardabuildingbplay', true);
 graveyardabuildinganimationc.anims.play('graveyardabuildingcplay', true);
 graveyardabuildinganimationd.anims.play('graveyardabuildingdplay', true);
 graveyardabuildinganimatione.anims.play('graveyardabuildingeplay', true);
 



if (player.x < 30){
    player.x = 30
}


if (player.x > 600){
if (player.y < 477 ){
    player.y += 1;
}    
}

if (player.x < 600){
if (player.y < 427){
    player.y += 1;
}
}




this.sky.tilePositionX += 0.5;
   if (player.y > 565){
            playerx = 1055
            playery = 333
            game.scene.stop('graveyardscenea')
            game.scene.start('graveyardgatesscene');
            cursors.up.isDown = false
            areaname = 'Graveyard Gates'
   }

if (player.x > 1345){
    playerx = 25
    playery = 530
    game.scene.stop('graveyardscenea')
    game.scene.start('graveyardsceneb');
    cursors.left.isDown = false
    areaname = '  The Graveyard'
}

if (graveyardsceneabackground.tilePositionX < 0)
    {
    graveyardsceneabackground.tilePositionX = 0;
    player.x -= 1;
   
    graveyardabuildinganimationb.x -=1;
    graveyardabuildinganimationc.x -=1;
    graveyardabuildinganimationd.x -=1;
    graveyardabuildinganimatione.x -=1;

    }

    if (graveyardsceneabackground.tilePositionX > 559)
    {
    graveyardsceneabackground.tilePositionX = 559;
    player.x += 1;

    graveyardabuildinganimationb.x +=1;
    graveyardabuildinganimationc.x +=1;
    graveyardabuildinganimationd.x +=1;
    graveyardabuildinganimatione.x +=1;
    }

  if (keyboardlock == false){
    if (cursors.left.isDown){
    if (player.x < 650){
    player.x += 1;
  
    graveyardabuildinganimationb.x +=1;
    graveyardabuildinganimationc.x +=1;
    graveyardabuildinganimationd.x +=1;
    graveyardabuildinganimatione.x +=1;
    graveyardsceneabackground.tilePositionX -= 1;
    
    }
    }
    
    else if (cursors.right.isDown){
    if (player.x > 648){
    player.x -= 1;
  
    graveyardabuildinganimationb.x -=1;
    graveyardabuildinganimationc.x -=1;
    graveyardabuildinganimationd.x -=1;
    graveyardabuildinganimatione.x -=1;
    graveyardsceneabackground.tilePositionX += 1;
    
    }
    }

    else if (cursors.up.isDown)
    {
    if (player.y > 315) {
    player.y -= 1;
    player.anims.play('walk', true);
    }
    } 
 
 
    
    else if (cursors.down.isDown)
    {
        if (player.y < 600){
    player.y += 1;
    player.anims.play('walk', true);
    }
    }
    
    else
    {
      player.setVelocityX(0);
      player.anims.stop('walk', true);
      
}
}
     
text.setText([
        graveyardsceneabackground.tilePositionX,
        graveyardsceneabackgroundx,
        'world x: ' + this.input.mousePointer.worldX,
        'world y: ' + this.input.mousePointer.worldY,
        player.x,
        playerx,
        player.y
        
    ]);
}
});

//graveyardsceneb
//graveyardsceneb
var graveyardsceneb = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function graveyardsceneb ()
    {
        Phaser.Scene.call(this, { key: 'graveyardsceneb' });
    },

    preload: function ()
    {
      
    },

create: function ()
{
       
        this.back = this.add.sprite(0, 0, 'back').setOrigin(0, 0);
        this.sky = this.add.tileSprite(0, 0, 4000, 600, 'sky').setOrigin(0, 0);
        this.graveyardscenebbackground = this.add.tileSprite(0, 0, 1920, 600, 'graveyardscenebbackground').setOrigin(0, 0);
        scenename = 'graveyardb'
        player = this.physics.add.sprite(playerx, playery, 'cecil');
        sword = this.physics.add.sprite(player.x , player.y - 13, 'sword1');
        sword.visible = false
        sword.rotation += 0.5;
  
attacktime = this.time.addEvent({ delay: 5, callback: attacktime, callbackScope: this, loop: true,startAt: 1 });

function attacktime(){
    if (cecilattacksword == true){
      if (playerfacedirection == 'right'){
        player.anims.play('sword', true);
        sword.visible = true
        sword.rotation += 0.2;
        sword.y += 4;
        sword.x += 1.6;
    }
        if (playerfacedirection == 'left'){
        player.anims.play('sword', true);
        sword.visible = true
        sword.rotation -= 0.2;
        sword.y += 4;
        sword.x -= 1.6;
    }
      
    }
  
  
    if (sword.rotation > 2) {
        cecilattacksword = false
       player.anims.play('walk', true);
        sword.visible = false
        sword.rotation = 0
        sword.y = player.y - 20
        sword.x = player.x 
    } 
  
      if (sword.rotation < -2) {
        cecilattacksword = false
       player.anims.play('walk', true);
        sword.visible = false
        sword.rotation = 0
        sword.y = player.y - 20
        sword.x = player.x 
    } 

}

 this.input.setPollAlways();
        this.input.on('gameobjectover', function (pointer, gameObject) {
        gameObject.setTint(0xff0000);
    });
    
        this.input.on('gameobjectout', function (pointer, gameObject) {
        gameObject.clearTint();
    });        

        this.anims.create({
        key: 'walk',
        frames: this.anims.generateFrameNumbers('cecil', { start: 0, end: 1 }),
        frameRate: 10,
        repeat: -1
    });
  
    this.anims.create({
        key: 'sword',
        frames: this.anims.generateFrameNumbers('cecil', { start: 11, end: 13 }),
        frameRate: 5,
        repeat: 0
    });

    cursors = this.input.keyboard.createCursorKeys();
    text = this.add.text(10, 10, '', { font: '16px Courier', fill: '#00ff00' }).setScrollFactor(0);
        
},

update: function (time, delta)
{
this.sky.tilePositionX += 0.5;
 
 if (player.y < 450){
     player.y += 1;
 }

 if (player.x > 804){
     if (player.y < 514){
     player.y +=1;
 }
 }

 if (player.x > 1150){
     player.x -=1;
 }

 if (player.y > 560){
     player.y -=1;
 }

if (player.x < 0){
    playerx = 1345
    playery = 530
    graveyardsceneabackgroundx = 559
    game.scene.stop('graveyardsceneb')
    game.scene.start('graveyardscenea');
    cursors.right.isDown = false
    areaname = '  The Graveyard'
}

if (this.graveyardscenebbackground.tilePositionX < 0)
    {
    this.graveyardscenebbackground.tilePositionX = 0;
    player.x -= 1;
    }

    if (this.graveyardscenebbackground.tilePositionX > 559)
    {
    this.graveyardscenebbackground.tilePositionX = 559;
    player.x += 1;
    }

  if (keyboardlock == false){
    if (cursors.left.isDown){
    if (player.x < 650){
    player.x += 1;
    this.graveyardscenebbackground.tilePositionX -= 1;
    
    }
    }
    
    else if (cursors.right.isDown){
    if (player.x > 648){
    player.x -= 1;
    this.graveyardscenebbackground.tilePositionX += 1;
    
    }
    }

    else if (cursors.up.isDown)
    {
    if (player.y > 315) {
    player.y -= 1;
    player.anims.play('walk', true);
    }
    } 
 
 
    
    else if (cursors.down.isDown)
    {
        if (player.y < 600){
    player.y += 1;
    player.anims.play('walk', true);
    }
    }
    
    else
    {
      player.setVelocityX(0);
      player.anims.stop('walk', true);
      
}
}
     
text.setText([
        this.graveyardscenebbackground.tilePositionX,
        'world x: ' + this.input.mousePointer.worldX,
        'world y: ' + this.input.mousePointer.worldY,
        player.x,
        playerx,
        player.y
        
    ]);
}
});

//outsidecity
var outsidecityscene = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function outsidecityscene ()
    {
        Phaser.Scene.call(this, { key: 'outsidecityscene' });
    },

    preload: function ()
    {
      
    },

create: function ()
{

        outsidecitybackground = this.add.sprite(0, 0, 'outsidecitybackground').setOrigin(0, 0);
        outsidecitycloudpiece = this.add.tileSprite(0, 0, 2240, 350, 'outsidecitycloudpiece').setOrigin(0, 0);
        outsidecity1frontpiece = this.add.tileSprite(0, 0, 4000, 600, 'outsidecity1frontpiece').setOrigin(0, 0);
        outsidecitycloudpiece.y -= 50;
        player = this.physics.add.sprite(playerx, playery, 'cecil');
        sword = this.physics.add.sprite(player.x , player.y - 13, 'sword1');
        sword.visible = false
        sword.rotation += 0.5;
        scenename = 'outsidecity'

attacktime = this.time.addEvent({ delay: 5, callback: attacktime, callbackScope: this, loop: true,startAt: 1 });

function attacktime(){
    if (cecilattacksword == true){
      if (playerfacedirection == 'right'){
        player.anims.play('sword', true);
        sword.visible = true
        sword.rotation += 0.2;
        sword.y += 4;
        sword.x += 1.6;
    }
        if (playerfacedirection == 'left'){
        player.anims.play('sword', true);
        sword.visible = true
        sword.rotation -= 0.2;
        sword.y += 4;
        sword.x -= 1.6;
    }
      
    }
  
  
    if (sword.rotation > 2) {
        cecilattacksword = false
       player.anims.play('walk', true);
        sword.visible = false
        sword.rotation = 0
        sword.y = player.y - 20
        sword.x = player.x 
    } 
  
      if (sword.rotation < -2) {
        cecilattacksword = false
       player.anims.play('walk', true);
        sword.visible = false
        sword.rotation = 0
        sword.y = player.y - 20
        sword.x = player.x 
    } 

}

 this.input.setPollAlways();
        this.input.on('gameobjectover', function (pointer, gameObject) {
        gameObject.setTint(0xff0000);
    });
    
        this.input.on('gameobjectout', function (pointer, gameObject) {
        gameObject.clearTint();
    });        

        this.anims.create({
        key: 'walk',
        frames: this.anims.generateFrameNumbers('cecil', { start: 0, end: 1 }),
        frameRate: 10,
        repeat: -1
    });
  
    this.anims.create({
        key: 'sword',
        frames: this.anims.generateFrameNumbers('cecil', { start: 11, end: 13 }),
        frameRate: 5,
        repeat: 0
    });

    cursors = this.input.keyboard.createCursorKeys();
    text = this.add.text(10, 10, 'Cursors to move', { font: '16px Courier', fill: '#00ff00' }).setScrollFactor(0);
        
},

update: function (time, delta)
{
outsidecitycloudpiece.tilePositionX += 0.2;


   if (player.x < 0){
            playerx = 1200
            playery = 505
            game.scene.stop('outsidecityscene')
            game.scene.start('graveyardgatesscene');
            cursors.right.isDown = false
            cursors.left.isDown = false
            areaname = '  Graveyard Gates '
   }

if (outsidecity1frontpiece.tilePositionX < 0)
    {
    outsidecity1frontpiece.tilePositionX = 0;
    player.x -= 1;
    }

    if (outsidecity1frontpiece.tilePositionX > 2465)
    {
    outsidecity1frontpiece.tilePositionX = 2465;
    player.x += 1;
    }

  if (keyboardlock == false){
    if (cursors.left.isDown){
    if (player.x < 650){
    player.x += 1;
    outsidecity1frontpiece.tilePositionX -= 1;
    }
    
    if (player.x < 200){
        if (player.y < 500){
            player.y += 2
        }
    }

    }
    
    else if (cursors.right.isDown){
    if (player.x > 648){
    player.x -= 1;
    outsidecity1frontpiece.tilePositionX += 1;
    
    }
    }

    else if (cursors.up.isDown)
    {
    
    if (player.y > 385) {
    player.y -= 1;
    player.anims.play('walk', true);
    }
    if (player.x < 182) {
        if (player.y < 500){
            player.y += 1;

        }
    }
    } 
 
 
    
    else if (cursors.down.isDown)
    {
        if (player.y < 554){
    player.y += 1;
    player.anims.play('walk', true);
    }
    }
    
    else
    {
      player.setVelocityX(0);
      player.anims.stop('walk', true);
      
}
}
     

text.setText([
        'world x: ' + this.input.mousePointer.worldX,
        'world y: ' + this.input.mousePointer.worldY,
        player.x,
        playerx,
        outsidecity1frontpiece.tilePositionX,
        player.y
        
    ]);
}
});

//officescene
//office
var officescene = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function officescene ()
    {
        Phaser.Scene.call(this, { key: 'officescene' });
    },

    preload: function ()
    {
      
    },
//office
create: function ()
{
  
     this.officeroombackground = this.add.tileSprite(0, 0, 2000, 600, 'officeroombackground').setOrigin(0, 0);
     this.officeroombackground.tilePositionX = officebackgroundx
     globescreen = this.physics.add.sprite(694 - officebackgroundx, 92, 'globescreen').setOrigin(0, 0);

  
   questmasteropenscreen = this.add.sprite(globescreen.x - 20 - officebackgroundx, globescreen.y -20, 'questmasteropenscreen').setInteractive();
   questmasteropenscreen.setOrigin(0, 0);
            questmasteropenscreen.on('pointerdown', function (pointer) {
            this.setTint(0xffffff);
            if (questmasteronquest == false){
            questmasterscreenopened = true
            }

          });
     questmasteropenscreen.visible = false
     questmasteropenscreenreq = this.physics.add.sprite(globescreen.x - 20 - officebackgroundx, globescreen.y - 20, 'questmasteropenscreenreq').setOrigin(0, 0);
     questmasteropenscreenreq.visible = false


     screen1 = this.physics.add.sprite(989 - officebackgroundx, 67, 'screen1').setOrigin(0, 0);
     screen2 = this.physics.add.sprite(1130 - officebackgroundx, 64, 'screen2').setOrigin(0, 0);
     screen3 = this.physics.add.sprite(990 - officebackgroundx, 150, 'screen3').setOrigin(0, 0);
     screen4 = this.physics.add.sprite(851 - officebackgroundx, 64, 'screen4').setOrigin(0, 0);
     cellphoneobject = this.physics.add.sprite(485 - officebackgroundx, 290, 'cellphoneobject').setOrigin(0, 0);
     maxscreen = this.physics.add.sprite(868 - officebackgroundx, 150, 'maxscreen').setOrigin(0, 0);
     lamp1 = this.physics.add.sprite(425 - officebackgroundx, 235, 'lamp1').setOrigin(0, 0);
     ceilinglamp1 = this.physics.add.sprite(150 - officebackgroundx, -10, 'ceilinglamp').setOrigin(0, 0);
     ceilinglamp2 = this.physics.add.sprite(260 - officebackgroundx, -10, 'ceilinglamp').setOrigin(0, 0);
     arcademachine1 = this.physics.add.sprite(1500 - officebackgroundx, 75, 'arcademachine1').setOrigin(0, 0);
     featherlighter = this.physics.add.sprite(785 - officebackgroundx, 170, 'featherlighter').setOrigin(0, 0);
     downpointer = this.physics.add.sprite(globescreen.x - officebackgroundx, globescreen.y, 'downpointer').setOrigin(0, 0);
     downpointer.visible = false
     player = this.physics.add.sprite(playerx, playery, 'cecil');
     phonemessagescreen = this.add.sprite(5, 10, 'phonemessagescreen').setOrigin(0, 0);
     phonemessagescreen.visible = false
     jackburtonmessagescreen = this.add.sprite(375, 15, 'jackburtonmessagescreen').setOrigin(0, 0);
     jackburtonmessagescreen.visible = false
     jackburtoncallingscreen = this.add.sprite(160, 15, 'jackburtoncallingscreen').setOrigin(0, 0);
     jackburtoncallingscreen.visible = false
     diapermafiamessagescreen = this.add.sprite(375, 15, 'diapermafiamessagescreen').setOrigin(0, 0);
     diapermafiamessagescreen.visible = false
     diapermafiacallingscreen = this.add.sprite(160, 15, 'diapermafiacallingscreen').setOrigin(0, 0);
     diapermafiacallingscreen.visible = false

     

    this.input.setPollAlways();
    this.input.on('gameobjectover', function (pointer, gameObject) {
    gameObject.setTint(0x00ff00);
    });
    this.input.on('gameobjectout', function (pointer, gameObject) {
    gameObject.clearTint();
    });
    
        
    this.anims.create({
        key: 'walk',
        frames: this.anims.generateFrameNumbers('cecil', { start: 0, end: 1 }),
        frameRate: 10,
        repeat: -1
    });

 this.anims.create({
        key: 'globescreen',
        frames: this.anims.generateFrameNumbers('globescreen', { start: 0, end: 29 }),
        frameRate: 10,
        repeat: -1
    });
 this.anims.create({
        key: 'screen1',
        frames: this.anims.generateFrameNumbers('screen1', { start: 0, end: 5 }),
        frameRate: 2,
        repeat: -1
    });
   this.anims.create({
        key: 'screen2',
        frames: this.anims.generateFrameNumbers('screen2', { start: 0, end: 31 }),
        frameRate: 5,
        repeat: -1
    });
   this.anims.create({
        key: 'screen3',
        frames: this.anims.generateFrameNumbers('screen3', { start: 0, end: 15 }),
        frameRate: 5,
        repeat: -1
    });
   this.anims.create({
        key: 'screen4',
        frames: this.anims.generateFrameNumbers('screen4', { start: 0, end: 15 }),
        frameRate: 10,
        repeat: -1
    });
   this.anims.create({
        key: 'maxscreen',
        frames: this.anims.generateFrameNumbers('maxscreen', { start: 0, end: 21 }),
        frameRate: 10,
        repeat: -1
    });
   this.anims.create({
        key: 'lamp1',
        frames: this.anims.generateFrameNumbers('lamp1', { start: 0, end: 5 }),
        frameRate: 5,
        repeat: -1
    });
   this.anims.create({
        key: 'ceilinglamp',
        frames: this.anims.generateFrameNumbers('ceilinglamp', { start: 0, end: 13 }),
        frameRate: 10,
        repeat: -1
    });
    this.anims.create({
        key: 'arcademachine1',
        frames: this.anims.generateFrameNumbers('arcademachine1', { start: 0, end: 8 }),
        frameRate: 8,
        repeat: -1
    });
     this.anims.create({
        key: 'featherlighter',
        frames: this.anims.generateFrameNumbers('featherlighter', { start: 0, end: 8 }),
        frameRate: 15,
        repeat: -1
    });

 
//office
//Input Events
    cursors = this.input.keyboard.createCursorKeys();

 
 questscreentxt = this.add.text(globescreen.x, globescreen.y - 15, 'Questmaster 2000', { font: '15px Courier', fill: '#00ff00' }).setScrollFactor(0);
 questscreentxt.visible = false

//questmaster
 questmasterloginscreen = this.physics.add.sprite(0, 0, 'questmasterloginscreen').setOrigin(0, 0);
 questmasterloginscreen.visible = false

 questmasteravailscreen = this.physics.add.sprite(0, 0, 'questmasteravailscreen').setOrigin(0, 0);
 questmasteravailscreen.visible = false


//beginquestbutton
 questmasterbeginquestbutton = this.add.sprite(841, 267, 'questmasterbeginquestbutton').setInteractive();
 questmasterbeginquestbutton.setOrigin(0, 0);
   questmasterbeginquestbutton.on('pointerdown', function (pointer) {
    this.setTint(0x00ff00);
    if (questmasterjackburtonquestselected == true){
        beginjackburtonquest = true
        questmasteronquest = true
        hidequestmaster()
        cellphonerings = true
    }
    if (questmasterdiapermafiaquestselected == true){
        begindiapermafiaquest = true
        questmasteronquest = true
        hidequestmaster()
        cellphonerings = true
    }
    if (questmasternayzramwandquestselected == true){
        beginnayzramwandquest = true
        questmasteronquest = true
        hidequestmaster()
        cellphonerings = true
    }

    });
   questmasterbeginquestbutton.visible = false

 questmasterloginbutton = this.add.sprite(841, 267, 'questmasterloginbutton').setInteractive();
 questmasterloginbutton.setOrigin(0, 0);
   questmasterloginbutton.on('pointerdown', function (pointer) {
    this.setTint(0x00ff00);
    questmasterscreenloggedin = true
    });
   questmasterloginbutton.visible = false

 questmasternayzramwandbutton = this.add.sprite(393, 220, 'questmasternayzramwandbutton').setInteractive();
 questmasternayzramwandbutton.setOrigin(0, 0);
 questmasternayzramwandbutton.on('pointerdown', function (pointer) {
    this.setTint(0x00ff00);
    questrewardgiven = false
    questmasternayzramwandquestselected = true
    });
 questmasternayzramwandbutton.visible = false
 questmasternayzramwandquestquote = this.physics.add.sprite(0, 0, 'questmasternayzramwandquestquote').setOrigin(0, 0);
 questmasternayzramwandquestquote.visible = false

 questmasterjackburtonbutton = this.add.sprite(393, 220, 'questmasterjackburtonbutton').setInteractive();
 questmasterjackburtonbutton.setOrigin(0, 0);
 questmasterjackburtonbutton.on('pointerdown', function (pointer) {
    this.setTint(0x00ff00);
    questrewardgiven = false
    questmasterjackburtonquestselected = true
    });
 questmasterjackburtonbutton.visible = false
 questmasterjackburtonquestquote = this.physics.add.sprite(0, 0, 'questmasterjackburtonquestquote').setOrigin(0, 0);
 questmasterjackburtonquestquote.visible = false

 questmasterdiapermafiabutton = this.add.sprite(393, 320, 'questmasterdiapermafiabutton').setInteractive();
 questmasterdiapermafiabutton.setOrigin(0, 0);
 questmasterdiapermafiabutton.on('pointerdown', function (pointer) {
    this.setTint(0x00ff00);
    questrewardgiven = false
    questmasterdiapermafiaquestselected = true
    });
    questmasterdiapermafiabutton.visible = false
    questmasterdiapermafiaquestquote = this.physics.add.sprite(0, 0, 'questmasterdiapermafiaquestquote').setOrigin(0, 0);
    questmasterdiapermafiaquestquote.visible = false
    
    text = this.add.text(10, 10, '', { font: '16px Courier', fill: '#00ff00' }).setScrollFactor(0);

        
function hidequestmaster() {
    questmasterscreenloggedin = false
    questmasterscreenopened = false
    questmasternayzramwandbutton.visible = false
    questmasterjackburtonbutton.visible = false
    questmasterdiapermafiabutton.visible = false
    questmasterloginscreen.visible = false
    questmasterbeginquestbutton.visible = false
    questmasternayzramwandquestquote.visible = false
    questmasterjackburtonquestquote.visible = false
    questmasterdiapermafiaquestquote.visible = false
    questmasteravailscreen.visible = false
    questmasterbeginquestbutton.visible = false

}
function phonering(){
if (cellphonerings == true){
if (cellphoneinventory == true){

    cellphoneringtime += 10;
if (cellphoneringtime > 50){
    cellphonebutton.setTint(0x00ff00);
   
}
if (cellphoneringtime > 100){
    cellphonebutton.setTint(0xff0000);
    
}
if (cellphoneringtime > 150){
    cellphonebutton.clearTint();
    cellphoneringtime = 0;
}
}
}
}
        
},
//office
update: function (time, delta)
    {
  if (cellphonetaken == false){
    if (player.x < cellphoneobject.x + 25 ){
         if (player.y < cellphoneobject.y + 75 ){
            if (player.x > cellphoneobject.x - 25 ){
         if (player.y > cellphoneobject.y - 75 ){
            keyboardlock = true
            takeitemname = 'Cell Phone'
            itemnames.visible = true
            itemnames.anims.play('itemnamecellphone', true);
            takeitemwindowopen = true
            

    }
    }
    }
    }
    }

    if (cellphonetaken == true){
        cellphoneobject.visible = false
    }

    globescreen.anims.play('globescreen', true);
    screen1.anims.play('screen1', true);
    screen2.anims.play('screen2', true);
    screen3.anims.play('screen3', true);
    screen4.anims.play('screen4', true);
    maxscreen.anims.play('maxscreen', true);
    lamp1.anims.play('lamp1', true);
    ceilinglamp1.anims.play('ceilinglamp', true);
    ceilinglamp2.anims.play('ceilinglamp', true);
    arcademachine1.anims.play('arcademachine1', true);
    featherlighter.anims.play('featherlighter', true);
    questscreentxt.x = globescreen.x

  
    //questmaster

    if (questmasterscreenopened == true){
        questmasterloginscreen.visible = true
        questmasterloginbutton.x = questmasterloginscreen.x + 841
        questmasterloginbutton.y = questmasterloginscreen.y + 267
        questmasterloginbutton.visible = true
    }
    else questmasterloginscreen.visible = false
    



     if (questmasterscreenloggedin == true){
     questmasterloginscreen.visible = false
     questmasterloginbutton.visible = false
     questmasteravailscreen.visible = true
     
     if (questmasternayzramwandquestshow == true){
     if (nayzramwandquestcomplete == false){
    questmasternayzramwandbutton.x = questmasterloginscreen.x + 385
    questmasternayzramwandbutton.y = questmasterloginscreen.y + 220
    questmasternayzramwandbutton.visible = true

    if (questmasternayzramwandquestselected == true){
        questmasternayzramwandquestquote.x = questmasterloginscreen.x + 195
        questmasternayzramwandquestquote.y = questmasterloginscreen.y + 290
        questmasternayzramwandquestquote.visible = true
        questmasterbeginquestbutton.x = questmasterloginscreen.x + 390
        questmasterbeginquestbutton.y = questmasterloginscreen.y + 470
        questmasterdiapermafiaquestshow = false
        questmasterdiapermafiabutton.visible = false
        questmasterbeginquestbutton.visible = true
    }
    }
    }
     
     if (questmasterjackburtonquestshow == true){
     if (jackburtonquestcomplete == false){
    questmasterjackburtonbutton.x = questmasterloginscreen.x + 385
    questmasterjackburtonbutton.y = questmasterloginscreen.y + 220
    questmasterjackburtonbutton.visible = true

    if (questmasterjackburtonquestselected == true){
        questmasterjackburtonquestquote.x = questmasterloginscreen.x + 195
        questmasterjackburtonquestquote.y = questmasterloginscreen.y + 290
        questmasterjackburtonquestquote.visible = true
        questmasterbeginquestbutton.x = questmasterloginscreen.x + 390
        questmasterbeginquestbutton.y = questmasterloginscreen.y + 470
        questmasterdiapermafiaquestshow = false
        questmasterdiapermafiabutton.visible = false
        questmasterbeginquestbutton.visible = true
    }
    }
    }

     if (questmasterdiapermafiaquestshow == true){
     if (diapermafiaquestcomplete == false){
      questmasterdiapermafiabutton.x = questmasterloginscreen.x + 380
      questmasterdiapermafiabutton.y = questmasterloginscreen.y + 290
      questmasterdiapermafiabutton.visible = true

     if (questmasterdiapermafiaquestselected == true){
     questmasterdiapermafiabutton.y = questmasterloginscreen.y + 220
     questmasterdiapermafiaquestquote.x = questmasterloginscreen.x + 195
     questmasterdiapermafiaquestquote.y = questmasterloginscreen.y + 290
     questmasterdiapermafiaquestquote.visible = true
     questmasterbeginquestbutton.x = questmasterloginscreen.x + 390
     questmasterbeginquestbutton.y = questmasterloginscreen.y + 470
     questmasterjackburtonquestshow = false
     questmasterjackburtonbutton.visible = false
     questmasterbeginquestbutton.visible = true


     }
     }
     }


}


    if (questmasterscreenopenview == true){
        downpointer.x = globescreen.x + 45
        downpointer.y = globescreen.y - 75
        downpointer.visible = true
      
    }
    questmasteropenscreen.x = globescreen.x -20
    questmasteropenscreen.y = globescreen.y -20
    questmasteropenscreenreq.x = globescreen.x -20
    questmasteropenscreenreq.y = globescreen.y - 20



  if (this.officeroombackground.tilePositionX < 0)
    {
    this.officeroombackground.tilePositionX += 1;
    globescreen.x -= 1;
    screen1.x -= 1;
    screen2.x -= 1;
    screen3.x -= 1;
    screen4.x -= 1;
    maxscreen.x -= 1;
    lamp1.x -= 1;
    ceilinglamp1.x -= 1;
    ceilinglamp2.x -= 1;
    arcademachine1.x -= 1;
    featherlighter.x -= 1;
    cellphoneobject.x -= 1;
    player.x -= 1;
    }
 if (this.officeroombackground.tilePositionX > 639)
    {
    this.officeroombackground.tilePositionX -= 1;
    globescreen.x += 1;
    screen1.x += 1;
    screen2.x += 1;
    screen3.x += 1;
    screen4.x += 1;
     maxscreen.x += 1;
    lamp1.x += 1;
    ceilinglamp1.x += 1;
    ceilinglamp2.x += 1;
    arcademachine1.x += 1;
    featherlighter.x += 1;
    cellphoneobject.x +=1;
    player.x += 1;
    }

    if (player.x > 1336)
    {
    player.x -= 1;
    }
      
      if (player.x < 1)
    {
    player.x += 1;
    }

     if (player.y < 248)
    {
    player.y += 1;
    }

       if (player.y > 543)
    {
    player.y -= 1;
    }
      
    if (player.y < 253){
    if (player.x > 1285){
    cecilofficedoorexit = true
    }
    }

if (player.y < globescreen.y + 175){
if (player.x > globescreen.x -40)
if (player.x < globescreen.x +100)
{
{
if (cellphoneinventory == true){
questmasterscreenopenview = true
questscreentxt.visible = true
questmasteropenscreen.visible = true
}
if (cellphoneinventory == false){
questmasterscreenopenview = false
questscreentxt.visible = false
questmasteropenscreenreq.visible = true
}
}
}
}

else {
questmasterscreenopenview = false
questscreentxt.visible = false
downpointer.visible = false
questmasteropenscreen.visible = false
questmasterscreenopened = false
questmasterloginscreen.visible = false
questmasteropenscreenreq.visible = false
}

    
//office
if (keyboardlock == false){

   
    if (cursors.left.isDown){
   
   
    this.officeroombackground.tilePositionX -= 1;
    globescreen.x += 1;
    screen1.x += 1;
    screen2.x += 1;
    screen3.x += 1;
    screen4.x += 1;
    maxscreen.x += 1;
    lamp1.x += 1;
    ceilinglamp1.x += 1;
    ceilinglamp2.x += 1;
    arcademachine1.x += 1;
    featherlighter.x += 1;
    cellphoneobject.x += 1;
   

    if (this.officeroombackground.tilePositionX > 1){
        player.x -= 1;
    }
  
   
    }

    else if (cursors.right.isDown){

   
    if (player.x > 648){
    this.officeroombackground.tilePositionX += 1;
    globescreen.x -= 1;
    screen1.x -= 1;
    screen2.x -= 1;
    screen3.x -= 1;
    screen4.x -= 1;
    maxscreen.x -= 1;
    ceilinglamp1.x -= 1;
    ceilinglamp2.x -= 1;
    lamp1.x -= 1;
    arcademachine1.x -= 1;
    featherlighter.x -= 1;
    cellphoneobject.x -=1;
    player.x -= 1;
    }
    }


    else if (cursors.up.isDown){
    player.y -= 1;
    player.anims.play('walk', true);
      if (cecilofficedoorexit == true){
    stellarcitybackgroundx = 0
    playerx = 380
    playery = 475
     game.scene.stop('officescene')
     game.scene.start('stellarscene')
     areaname = '     Stellar City'
     cecilofficedoorexit = false
    }
    }

 
    
    else if (cursors.down.isDown){
    player.y += 1;
    player.anims.play('walk', true);
    }

else
    {
      
      player.anims.stop('walk', true);
}
 
}



text.setText([
        'world x: ' + this.input.mousePointer.worldX,
        'world y: ' + this.input.mousePointer.worldY,
        player.y,
        player.x
    ]);
    }

});

//uiscene
var uiscene = new Phaser.Class({

    Extends: Phaser.Scene,

    initialize:

    function uiscene ()
    {
        Phaser.Scene.call(this, { key: 'uiscene' });
    },

    preload: function ()
    {
      
    },
//ui
//uiscenecreate
create: function ()
{
 var phoneringer = this.sound.add('phonering',{ loop: false });
 adventureuibackground = this.add.sprite(uix, uiy, 'adventureuibackground').setOrigin(0, 0);
 adventureui = this.add.sprite(uix, uiy, 'adventureui').setOrigin(0, 0);
 amazingupgradesui = this.add.sprite(uix, uiy, 'amazingupgradesui').setOrigin(0, 0);
 amazingupgradesui.visible = false
 stellaritemsui = this.add.sprite(uix, uiy, 'stellaritemsui').setOrigin(0, 0);
 stellaritemsui.visible = false
 amazingblankitemspot = this.add.sprite(uix, uiy, '').setOrigin(0, 0);
 amazingblankitemspot.visible = false
 itemshopblankitemspot = this.add.sprite(uix, uiy, '').setOrigin(0, 0);
 itemshopblankitemspot.visible = false
 takeitembox = this.add.sprite(350, 480, 'takeitembox').setOrigin(0, 0);
 takeitembox.visible = false
 itemnames = this.add.sprite(525, 515, 'itemnames').setOrigin(0, 0);
 itemnames.visible = false
 inventoryscreenbackground = this.add.sprite(5, 0, 'inventoryscreenbackground').setOrigin(0, 0);
 inventoryscreenbackground.visible = false
 statusscreenbackground = this.add.sprite(100, 25, 'statusscreenbackground').setOrigin(0, 0);
 statusscreenbackground.visible = false
 talentscreenbackground = this.add.sprite(700, 25, 'talentscreenbackground').setOrigin(0, 0); 
 talentscreenbackground.visible = false
 mapscreenbackgrounda = this.add.sprite(0, 0, 'mapscreenbackgrounda').setOrigin(0, 0); 
 mapscreenbackgrounda.visible = false
 mapcurrentposition = this.add.sprite(0, 0, '').setOrigin(0, 0); 
 mapcurrentposition.visible = false
 phonemessagescreen = this.add.sprite(5, 10, 'phonemessagescreen').setOrigin(0, 0);
 phonemessagescreen.visible = false
 nayzramwandmessagescreen = this.add.sprite(375, 15, 'nayzramwandmessagescreen').setOrigin(0, 0);
 nayzramwandmessagescreen.visible = false
 nayzramwandfoundmessagescreen = this.add.sprite(375, 15, 'nayzramwandfoundmessagescreen').setOrigin(0, 0);
 nayzramwandfoundmessagescreen.visible = false
 nayzramcallingscreen = this.add.sprite(160, 15, 'nayzramcallingscreen').setOrigin(0, 0);
 nayzramcallingscreen.visible = false
 jackburtonmessagescreen = this.add.sprite(375, 15, 'jackburtonmessagescreen').setOrigin(0, 0);
 jackburtonmessagescreen.visible = false
 jackburtoncallingscreen = this.add.sprite(160, 15, 'jackburtoncallingscreen').setOrigin(0, 0);
 jackburtoncallingscreen.visible = false
 diapermafiamessagescreen = this.add.sprite(375, 15, 'diapermafiamessagescreen').setOrigin(0, 0);
 diapermafiamessagescreen.visible = false
 diapermafiacallingscreen = this.add.sprite(160, 15, 'diapermafiacallingscreen').setOrigin(0, 0);
 diapermafiacallingscreen.visible = false
 speechnayzramwandfound1 = this.add.sprite(300, 15, 'speechnayzramwandreward1').setOrigin(0, 0);
 speechnayzramwandfound1.visible = false
 speechnayzramwandfound2 = this.add.sprite(300, 15, 'speechnayzramwandreward2').setOrigin(0, 0);
 speechnayzramwandfound2.visible = false
 speechbubble = this.add.sprite(300, 15, 'speechbubble').setOrigin(0, 0);
 speechbubble.visible = false
 buyitembox = this.add.sprite(380, 375, 'buyitembox').setOrigin(0, 0);
 buyitembox.visible = false
 buythisitembox = this.add.sprite(380, 375, '').setOrigin(0, 0);
 buythisitembox.visible = false

this.registry.set('accountnickname', accountnickname);
this.registry.set('cecilhealthrating', cecilhealthrating);
this.registry.set('cecilattackrating', cecilattackrating);
this.registry.set('cecildefenserating', cecildefenserating);
this.registry.set('cecilspeedrating', cecilspeedrating);
this.registry.set('cecildmagicrating', cecilmagicrating);
this.registry.set('cecilsupportrating', cecilsupportrating);

speechtime = this.time.addEvent({ delay: 2000, callback: speechtime, callbackScope: this, loop: true,startAt: 1 });
phoneringtime = this.time.addEvent({ delay: 1, callback: phonering, callbackScope: this, loop: true,startAt: 1 });
this.time.addEvent({ delay: 500, callback: setdata, callbackScope: this, loop: true });

      
       this.input.setPollAlways();
        this.input.on('gameobjectover', function (pointer, gameObject) {
        if (gameObject == leftpointer){
        scrollleft = true
        }
       if (gameObject == rightpointer){
        scrollright = true
        }
        gameObject.setTint(0xff0000);

    });
        this.input.on('gameobjectout', function (pointer, gameObject) {
       if (gameObject == leftpointer){
        scrollleft = false
        }
       if (gameObject == rightpointer){
        scrollright = false
        }
        gameObject.clearTint();

    });

  
    
    cecilswordbutton = this.add.sprite(10, 612, 'cecilswordbox').setInteractive();
    cecilswordbutton.setOrigin(0, 0);
    cecilswordbutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    cecilattacksword = true
    });
    
  
    yesbutton = this.add.sprite(625, 555, 'yesbutton').setInteractive();
    yesbutton.setOrigin(0, 0);
    yesbutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    if (takeitemname == 'Cell Phone'){
        cellphonetaken = true
        takeitemwindowopen = false
        cellphoneinventory = true
        cellphonebutton.visible = true
        itemnames.visible = false
        takeitemname = ''
        keyboardlock = false
    }
   if (takeitemname == 'Nayzrams Wand'){
        nayzramwandfound = true
        takeitemwindowopen = false
        beginnayzramwandquest = false
        nayzramswand.visible = false
        itemnames.visible = false
        cellphonerings = true
        phoneisanswered = false
        keyboardlock = false
    }
      
    });
        
    yesbutton.on('pointerup', function (pointer) {
    this.clearTint();
    });
    yesbutton.visible = false

    nobutton = this.add.sprite(725, 555, 'nobutton').setInteractive();
    nobutton.setOrigin(0, 0);
    nobutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    
    });
        
    nobutton.on('pointerup', function (pointer) {
    this.clearTint();
    });
    nobutton.visible = false

//shopyesbutton
    shopbuyyes = this.add.sprite(600, 520, 'yesbutton').setInteractive();
    shopbuyyes.setOrigin(0, 0);
    shopbuyyes.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    if (selectedshopitemname == 'healthup') {
            greenstellarcoins -= 25;
            healthupamountowned += 1;
            buyitembox.visible = false
            buythisitembox.visible = false
            itemcost = ''
            selectedshopitemname = ''
            itemcosttxt.visible = false
            shopbuyyes.visible = false
            shopbuyno.visible = false
    }
    if (selectedshopitemname == 'attackup') {
            greenstellarcoins -= 25;
            attackupamountowned += 1;
            buyitembox.visible = false
            buythisitembox.visible = false
            itemcost = ''
            selectedshopitemname = ''
            itemcosttxt.visible = false
            shopbuyyes.visible = false
            shopbuyno.visible = false
    }

   if (selectedshopitemname == 'defenseup') {
            greenstellarcoins -= 25;
            defenseupamountowned += 1;
            buyitembox.visible = false
            buythisitembox.visible = false
            itemcost = ''
            selectedshopitemname = ''
            itemcosttxt.visible = false
            shopbuyyes.visible = false
            shopbuyno.visible = false
    }
    if (selectedshopitemname == 'speedup') {
            greenstellarcoins -= 25;
            speedupamountowned += 1;
            buyitembox.visible = false
            buythisitembox.visible = false
            itemcost = ''
            selectedshopitemname = ''
            itemcosttxt.visible = false
            shopbuyyes.visible = false
            shopbuyno.visible = false
    }
       if (selectedshopitemname == 'magicup') {
            greenstellarcoins -= 25;
            magicupamountowned += 1;
            buyitembox.visible = false
            buythisitembox.visible = false
            itemcost = ''
            selectedshopitemname = ''
            itemcosttxt.visible = false
            shopbuyyes.visible = false
            shopbuyno.visible = false
    }
    if (selectedshopitemname == 'supportup') {
            greenstellarcoins -= 25;
            supportupamountowned += 1;
            buyitembox.visible = false
            buythisitembox.visible = false
            itemcost = ''
            selectedshopitemname = ''
            itemcosttxt.visible = false
            shopbuyyes.visible = false
            shopbuyno.visible = false
    }


    });
      
    shopbuyyes.on('pointerup', function (pointer) {
    this.clearTint();

    });
    shopbuyyes.visible = false

    shopbuyno = this.add.sprite(700, 520, 'nobutton').setInteractive();
    shopbuyno.setOrigin(0, 0);
    shopbuyno.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
            notenoughcointxt.visible = false
            buyitembox.visible = false
            buythisitembox.visible = false
            itemcost = ''
            selectedshopitemname = ''
            itemcosttxt.visible = false
            shopbuyyes.visible = false
            shopbuyno.visible = false
    
    });
     
    shopbuyno.on('pointerup', function (pointer) {
    this.clearTint();
    });
    shopbuyno.visible = false







    onmywaybutton = this.add.sprite(600, 450, 'onmywaybutton').setInteractive();
    onmywaybutton.setOrigin(0, 0);
    onmywaybutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    if (beginjackburtonquest == true){
        phonemessagescreen.visible = false
        jackburtoncallingscreen.visible = false
        jackburtonmessagescreen.visible = false
        onmywaybutton.visible = false
    }
        if (begindiapermafiaquest == true){
        phonemessagescreen.visible = false
        diapermafiacallingscreen.visible = false
        diapermafiamessagescreen.visible = false
        onmywaybutton.visible = false
    }
       if (beginnayzramwandquest == true){
        phonemessagescreen.visible = false
        nayzramcallingscreen.visible = false
        nayzramwandmessagescreen.visible = false
        onmywaybutton.visible = false
    }
     if (nayzramwandfound == true){
        phonemessagescreen.visible = false
        nayzramcallingscreen.visible = false
        nayzramwandfoundmessagescreen.visible = false
        onmywaybutton.visible = false
        takeitemname = ''
        nayzram.visible = true
    }
    });
        
    onmywaybutton.on('pointerup', function (pointer) {
    this.clearTint();
    });
    onmywaybutton.visible = false
      
    rightpointer = this.add.sprite(760, 710, 'rightpointer').setInteractive();
    rightpointer.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    });
    
    rightpointer.on('pointerup', function (pointer) {
    this.clearTint();
    });
    
    leftpointer = this.add.sprite(600, 710, 'leftpointer').setInteractive();
    leftpointer.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    });
  
    leftpointer.on('pointerup', function (pointer) {
    this.clearTint();
    });

//mapbutton
    mapbutton = this.add.sprite(583, 605, 'mapbutton').setInteractive();
    mapbutton.setOrigin(0, 0);
    mapbutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    if (mapwindowopen == false){
    statuswindowopen = false
    talentwindowopen = false
    inventorywindowopen = false
    mapwindowopen = true
    keyboardlock = true
    }
    else mapwindowopen = false
    keyboardlock = false
    });
        
    mapbutton.on('pointerup', function (pointer) {
    this.clearTint();
    });
    

//statusbuttons

    statusbutton = this.add.sprite(422, 605, 'statusbutton').setInteractive();
    statusbutton.setOrigin(0, 0);
    statusbutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    if (statuswindowopen == false){
    statuswindowopen = true
    mapwindowopen = false
    inventorywindowopen = false
    keyboardlock = true
    }
    else statuswindowopen = false
    talentwindowopen = false
    keyboardlock = false
    });
        
    statusbutton.on('pointerup', function (pointer) {
    this.clearTint();
    });
    
    talentscreenbutton = this.add.sprite(548, 97, 'statusscreentalentbutton').setInteractive(); 
    talentscreenbutton.setOrigin(0, 0);
    talentscreenbutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    if (talentwindowopen == false){
    talentwindowopen = true
    talentscreenbackground.visible = true
    }
    else talentwindowopen = false
    talentscreenbackground.visible = false
    });
        
    talentscreenbutton.on('pointerup', function (pointer) {
    this.clearTint();
    });
    talentscreenbutton.visible = false

 //inventorybuttons     
    inventorybutton = this.add.sprite(773, 605, 'inventorybutton').setInteractive();
    inventorybutton.setOrigin(0, 0);
    inventorybutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    if (inventorywindowopen == false){
        mapwindowopen = false
        statuswindowopen = false
        talentwindowopen = false
    inventorywindowopen = true
    keyboardlock = true
    }
    else inventorywindowopen = false
    keyboardlock = false
    });
        
    inventorybutton.on('pointerup', function (pointer) {
    this.clearTint();
    });


    healthupbutton = this.add.sprite(378, 425, 'healthupinv').setInteractive(); 
    healthupbutton.setOrigin(0, 0);
    healthupbutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    if (healthupamountowned > 0){
        playerhealthrating += 5
        healthupamountowned -= 1;
    }
    });
    
    healthupbutton.on('pointerup', function (pointer) {
    this.clearTint();
    });
    healthupbutton.visible = false

    attackupbutton = this.add.sprite(72, 425, 'attackupinv').setInteractive(); 
    attackupbutton.setOrigin(0, 0);
    attackupbutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    if (attackupamountowned > 0){
        playerattackrating += 5
        attackupamountowned -= 1;
    }
    });
    
    attackupbutton.on('pointerup', function (pointer) {
    this.clearTint();
    });
    attackupbutton.visible = false

    defenseupbutton = this.add.sprite(174, 425, 'defenseupinv').setInteractive(); 
    defenseupbutton.setOrigin(0, 0);
    defenseupbutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
     if (defenseupamountowned > 0){
        playerdefenserating += 5
        defenseupamountowned -= 1;
    }
    });
    
    defenseupbutton.on('pointerup', function (pointer) {
    this.clearTint();
    });
    defenseupbutton.visible = false

    magicupbutton = this.add.sprite(276, 425, 'magicupinv').setInteractive(); 
    magicupbutton.setOrigin(0, 0);
    magicupbutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    if (magicupamountowned > 0){
        playermagicrating += 5
        magicupamountowned -= 1;
    }
    });
    
    magicupbutton.on('pointerup', function (pointer) {
    this.clearTint();
    });
    magicupbutton.visible = false

    speedupbutton = this.add.sprite(480, 425, 'speedupinv').setInteractive(); 
    speedupbutton.setOrigin(0, 0);
    speedupbutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    if (speedupamountowned > 0){
        playerspeedrating += 5
        speedupamountowned -= 1;
    }
    });
    
    speedupbutton.on('pointerup', function (pointer) {
    this.clearTint();
    });
    speedupbutton.visible = false

    supportupbutton = this.add.sprite(582, 425, 'supportupinv').setInteractive(); 
    supportupbutton.setOrigin(0, 0);
    supportupbutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
      if (supportupamountowned > 0){
        playersupportrating += 5
        supportupamountowned -= 1;
    }
    });
    
    supportupbutton.on('pointerup', function (pointer) {
    this.clearTint();
    });
    supportupbutton.visible = false


    cellphonebutton = this.add.sprite(uix + 880, uiy + 5, 'cellphoneuibutton').setInteractive();
    cellphonebutton.setOrigin(0, 0);
    cellphonebutton.on('pointerdown', function (pointer) {
    this.setTint(0xff0000);
    
    if (cellphonerings == true){
    if (phoneisringingnow == true){
    phoneringer.stop
    phoneisringingnow = false
    }
    if (beginjackburtonquest == true){
    if (phoneisanswered == false){
            phonemessagescreen.visible = true
            jackburtoncallingscreen.visible = true
            jackburtonmessagescreen.visible = true
            cellphonerings = false
            phoneisanswered = true
            onmywaybutton.visible = true
    }
    }
    if (begindiapermafiaquest == true){
    if (phoneisanswered == false){
            phonemessagescreen.visible = true
            diapermafiacallingscreen.visible = true
            diapermafiamessagescreen.visible = true
            cellphonerings = false
            phoneisanswered = true
            onmywaybutton.visible = true
    }
    }
    if (beginnayzramwandquest == true){
    if (phoneisanswered == false){
            phonemessagescreen.visible = true
            nayzramcallingscreen.visible = true
            nayzramwandmessagescreen.visible = true
            cellphonerings = false
            phoneisanswered = true
            onmywaybutton.visible = true
    }
    }
    if (nayzramwandfound == true){
    if (phoneisanswered == false){
            phonemessagescreen.visible = true
            nayzramcallingscreen.visible = true
            nayzramwandfoundmessagescreen.visible = true
            cellphonerings = false
            phoneisanswered = true
            onmywaybutton.visible = true
            speechtext = 'nayzramreward1'
            
    }
    }
    }
    });


        
    cellphonebutton.on('pointerup', function (pointer) {
    this.clearTint();
    });
    cellphonebutton.visible = false


    this.anims.create({
        key: 'healthupitem',
        frames: this.anims.generateFrameNumbers('itemshopblankitemspot', { start: 0, end: 0 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'attackupitem',
        frames: this.anims.generateFrameNumbers('itemshopblankitemspot', { start: 1, end: 1 }),
        frameRate: 1,
        repeat: 0
    });

       this.anims.create({
        key: 'defenseupitem',
        frames: this.anims.generateFrameNumbers('itemshopblankitemspot', { start: 2, end: 2 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'speedupitem',
        frames: this.anims.generateFrameNumbers('itemshopblankitemspot', { start: 3, end: 3 }),
        frameRate: 1,
        repeat: 0
    });
     this.anims.create({
        key: 'magicupitem',
        frames: this.anims.generateFrameNumbers('itemshopblankitemspot', { start: 4, end: 4 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'supportupitem',
        frames: this.anims.generateFrameNumbers('itemshopblankitemspot', { start: 5, end: 5 }),
        frameRate: 1,
        repeat: 0
    });

       this.anims.create({
        key: 'itemshopblankitem',
        frames: this.anims.generateFrameNumbers('itemshopblankitemspot', { start: 6, end: 6 }),
        frameRate: 1,
        repeat: 0
    });

      this.anims.create({
        key: 'buythisitemattackup',
        frames: this.anims.generateFrameNumbers('buythisitem', { start: 0, end: 0 }),
        frameRate: 1,
        repeat: 0
    });
    this.anims.create({
        key: 'buythisitemdefenseup',
        frames: this.anims.generateFrameNumbers('buythisitem', { start: 1, end: 1 }),
        frameRate: 1,
        repeat: 0
    });
    this.anims.create({
        key: 'buythisitemmagicup',
        frames: this.anims.generateFrameNumbers('buythisitem', { start: 2, end: 2 }),
        frameRate: 1,
        repeat: 0
    });
    this.anims.create({
        key: 'buythisitemhealthup',
        frames: this.anims.generateFrameNumbers('buythisitem', { start: 3, end: 3 }),
        frameRate: 1,
        repeat: 0
    });
    this.anims.create({
        key: 'buythisitemspeedup',
        frames: this.anims.generateFrameNumbers('buythisitem', { start: 4, end: 4 }),
        frameRate: 1,
        repeat: 0
    });
    this.anims.create({
        key: 'buythisitemsupportup',
        frames: this.anims.generateFrameNumbers('buythisitem', { start: 5, end: 5 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'buythisitemblank',
        frames: this.anims.generateFrameNumbers('buythisitem', { start: 6, end: 6 }),
        frameRate: 1,
        repeat: 0
    });
    
    

     
       this.anims.create({
        key: 'blankitem01',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 0, end: 0 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem02',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 1, end: 1 }),
        frameRate: 1,
        repeat: 0
    });

       this.anims.create({
        key: 'blankitem03',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 2, end: 2 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem04',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 3, end: 3 }),
        frameRate: 1,
        repeat: 0
    });
     this.anims.create({
        key: 'blankitem05',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 4, end: 4 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem06',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 5, end: 5 }),
        frameRate: 1,
        repeat: 0
    });

       this.anims.create({
        key: 'blankitem07',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 6, end: 6 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem08',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 7, end: 7 }),
        frameRate: 1,
        repeat: 0
        });
 this.anims.create({
        key: 'blankitem09',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 8, end: 8 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem10',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 9, end: 9 }),
        frameRate: 1,
        repeat: 0
    });

       this.anims.create({
        key: 'blankitem11',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 10, end: 10 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem12',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 11, end: 11 }),
        frameRate: 1,
        repeat: 0
    });
     this.anims.create({
        key: 'blankitem13',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 12, end: 12 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem14',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 13, end: 13 }),
        frameRate: 1,
        repeat: 0
    });

       this.anims.create({
        key: 'blankitem15',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 14, end: 14 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem16',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 15, end: 15 }),
        frameRate: 1,
        repeat: 0

     });
       this.anims.create({
        key: 'blankitem17',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 16, end: 16 }),
        frameRate: 1,
        repeat: 0
    });

       this.anims.create({
        key: 'blankitem18',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 17, end: 17 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem19',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 18, end: 18 }),
        frameRate: 1,
        repeat: 0
    });
     this.anims.create({
        key: 'blankitem20',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 19, end: 19 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem21',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 20, end: 20 }),
        frameRate: 1,
        repeat: 0
    });

       this.anims.create({
        key: 'blankitem22',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 21, end: 21 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem23',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 22, end: 22 }),
        frameRate: 1,
        repeat: 0

     });

       this.anims.create({
        key: 'blankitem24',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 23, end: 23 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem25',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 24, end: 24 }),
        frameRate: 1,
        repeat: 0
    });

       this.anims.create({
        key: 'blankitem26',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 25, end: 25 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem27',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 26, end: 26 }),
        frameRate: 1,
        repeat: 0

     });
       this.anims.create({
        key: 'blankitem28',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 27, end: 27 }),
        frameRate: 1,
        repeat: 0
    });

       this.anims.create({
        key: 'blankitem29',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 28, end: 28 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem30',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 29, end: 29 }),
        frameRate: 1,
        repeat: 0
    });
     this.anims.create({
        key: 'blankitem31',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 30, end: 30 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem32',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 31, end: 31 }),
        frameRate: 1,
        repeat: 0
    });

       this.anims.create({
        key: 'blankitem33',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 32, end: 32 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem34',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 33, end: 33 }),
        frameRate: 1,
        repeat: 0

     });

        this.anims.create({
        key: 'blankitem35',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 34, end: 34 }),
        frameRate: 1,
        repeat: 0
    });

       this.anims.create({
        key: 'blankitem36',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 35, end: 35 }),
        frameRate: 1,
        repeat: 0
    });
       this.anims.create({
        key: 'blankitem37',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 36, end: 36 }),
        frameRate: 1,
        repeat: 0

     });
       this.anims.create({
        key: 'blankitem38',
        frames: this.anims.generateFrameNumbers('amazingblankitemspot', { start: 37, end: 37 }),
        frameRate: 1,
        repeat: 0

     });

       this.anims.create({
        key: 'mapcurrentpositionlarge',
        frames: this.anims.generateFrameNumbers('mapcurrentpositionlarge', { start: 0, end: 9 }), 
        frameRate: 5,
        repeat: -1

     });
       this.anims.create({
        key: 'mapcurrentpositionsmall',
        frames: this.anims.generateFrameNumbers('mapcurrentpositionsmall', { start: 0, end: 9 }),
        frameRate: 5,
        repeat: -1

     });

     this.anims.create({
        key: 'itemnamecellphone',
        frames: this.anims.generateFrameNumbers('itemnames', { start: 0, end: 0 }),
        frameRate: 1,
        repeat: 0
    });
 this.anims.create({
        key: 'itemnamenayzramwand',
        frames: this.anims.generateFrameNumbers('itemnames', { start: 1, end: 1 }),
        frameRate: 1,
        repeat: 0
    });

//statustxt
//status
greenstellarcointxt = this.add.text(168, 45, '0', { font: '20px Arial', fill: '#00ff00' }).setScrollFactor(0);
greenstellarcointxt.visible = false
redstellarcointxt = this.add.text(301, 45, '0', { font: '20px Arial', fill: '#00ff00' }).setScrollFactor(0);
redstellarcointxt.visible = false
bluestellarcointxt = this.add.text(455, 45, '0', { font: '20px Arial', fill: '#00ff00' }).setScrollFactor(0);
bluestellarcointxt.visible = false
blackstellarcointxt = this.add.text(607, 45, '0', { font: '20px Arial', fill: '#00ff00' }).setScrollFactor(0);
blackstellarcointxt.visible = false

attackupamountownedtxt = this.add.text(112, 545, '0', { font: '20px Arial', fill: '#00ff00' }).setScrollFactor(0);
attackupamountownedtxt.visible = false
defenseupamountownedtxt = this.add.text(212, 545, '0', { font: '20px Arial', fill: '#00ff00' }).setScrollFactor(0);
defenseupamountownedtxt.visible = false
magicupamountownedtxt = this.add.text(312, 545, '0', { font: '20px Arial', fill: '#00ff00' }).setScrollFactor(0);
magicupamountownedtxt.visible = false
healthupamountownedtxt = this.add.text(412, 545, '0', { font: '20px Arial', fill: '#00ff00' }).setScrollFactor(0);
healthupamountownedtxt.visible = false
speedupamountownedtxt = this.add.text(512, 545, '0', { font: '20px Arial', fill: '#00ff00' }).setScrollFactor(0);
speedupamountownedtxt.visible = false
supportupamountownedtxt = this.add.text(612, 545, '0', { font: '20px Arial', fill: '#00ff00' }).setScrollFactor(0);
supportupamountownedtxt.visible = false
notenoughcointxt = this.add.text(605, 405, 'Not Enough Coin', { font: '30px Arial', fill: '#ff0000' }).setScrollFactor(0);
notenoughcointxt.visible = false
itemcosttxt = this.add.text(605, 444, '', { font: '30px Arial', fill: '#00ff00' }).setScrollFactor(0);
itemcosttxt.visible = false

playerhealthratingtxt = this.add.text(380, 50, '', { font: '35px Arial', fill: '#ffffff' }).setScrollFactor(0);
playerhealthratingtxt.visible = false
playerattackratingtxt = this.add.text(155, 50, '', { font: '40px Arial', fill: '#ffffff' }).setScrollFactor(0);
playerattackratingtxt.visible = false
playerdefenseratingtxt = this.add.text(155, 115, '', { font: '40px Arial', fill: '#ffffff' }).setScrollFactor(0);
playerdefenseratingtxt.visible = false
playerspeedratingtxt = this.add.text(155, 175, '', { font: '40px Arial', fill: '#ffffff' }).setScrollFactor(0);
playerspeedratingtxt.visible = false
playermagicratingtxt = this.add.text(155, 240, '', { font: '40px Arial', fill: '#ffffff' }).setScrollFactor(0);
playermagicratingtxt.visible = false
playersupportratingtxt = this.add.text(155, 305, '', { font: '40px Arial', fill: '#ffffff' }).setScrollFactor(0);
playersupportratingtxt.visible = false


statustxt = this.add.text(5, 165, '', { font: '17px Arial', fill: '#00ff00' }).setScrollFactor(0);
areanametxt = this.add.text(560, 637, '', { font: '30px Arial', fill: '#00ff00' }).setScrollFactor(0);
charnametxt = this.add.text(185, 680, 'Cecil', { font: '30px Arial', fill: '#00ff00' }).setScrollFactor(0);
itemnametxt = this.add.text(615, 555, '', { font: '23px Courier', fill: '#ffffff' }).setScrollFactor(0);
itemnametxt.visible = false

 if (nayzramwandquestend == true){
    speechtexttime = 10
 }



     function speechtime(){
        if (nayzramwandquestend == true){
            speechtexttime -= 1;
        if (speechtext == 'nayzramreward1'){
            keyboardlock = true
            if (speechtexttime < 5) {
                speechnayzramwandfound1.visible = false
                speechnayzramwandfound2.visible = true
            }
        if (speechtexttime < 1) {
                nayzram.x = -1000
                speechtext = ''
                if (questrewardgiven == false){
                    greenstellarcoins += 100;
                    questrewardgiven = true
                }
                questmasternayzramwandquestshow = false
                questmasteronquest = false
                questmasterdiapermafiaquestshow = true
                questmasternayzramwandquestselected = false
                phoneisanswered = false
                speechnayzramwandfound1.visible = false
                speechnayzramwandfound2.visible = false
                speechbubbleshow = false
                speechbubble.visible = false
                nayzram.visible = false
                nayzramwandquestend = false
                keyboardlock = false
            }


        }
        }
     }
      
},
//ui
update: function (time, delta)
    {
if (amazingshopview == true){
    leftpointer.visible = false
    rightpointer.visible = false
    areanametxt.visible = false
    inventorybutton.visible = false
    cecilswordbutton.visible = false
    amazingupgradesui.visible = true
    amazingblankitemspot.x = amazingupgradesui.x + 425
    amazingblankitemspot.y = amazingupgradesui.y + 3
    amazingblankitemspot.visible = true
    charnametxt.visible = false

    }

if (amazingshopview == false){
    leftpointer.visible = true
    rightpointer.visible = true
    areanametxt.visible = true
    inventorybutton.visible = true
    cecilswordbutton.visible = true
    amazingupgradesui.visible = false
    amazingblankitemspot.visible = false
    charnametxt.visible = true
    }

    if (itemshopopenview == true){
    leftpointer.visible = false
    rightpointer.visible = false
    areanametxt.visible = false
    inventorybutton.visible = false
    cecilswordbutton.visible = false
    stellaritemsui.visible = true
    itemshopblankitemspot.x = stellaritemsui.x + 425
    itemshopblankitemspot.y = stellaritemsui.y + 3
    itemshopblankitemspot.visible = true
    charnametxt.visible = false

    }
if (standingfrontitemshop == true){
if (itemshopopenview == false){
    leftpointer.visible = true
    rightpointer.visible = true
    areanametxt.visible = true
    inventorybutton.visible = true
    cecilswordbutton.visible = true
    stellaritemsui.visible = false
    itemshopblankitemspot.visible = false
    charnametxt.visible = true
    }
}

if (statuswindowopen == true){
statusscreenbackground.visible = true
talentscreenbutton.visible = true
playerhealthratingtxt.visible = true
playerattackratingtxt.visible = true
playerdefenseratingtxt.visible = true
playerspeedratingtxt.visible = true
playermagicratingtxt.visible = true
playersupportratingtxt.visible = true

keyboardlock = true
if (talentwindowopen == true){
    talentscreenbackground.visible = true
}
}
if (statuswindowopen == false){
statusscreenbackground.visible = false
talentscreenbutton.visible = false
playerhealthratingtxt.visible = false
playerattackratingtxt.visible = false
playerdefenseratingtxt.visible = false
playerspeedratingtxt.visible = false
playermagicratingtxt.visible = false
playersupportratingtxt.visible = false
talentscreenbutton.visible = false
talentscreenbackground.visible = false
keyboardlock = false
}
//mapwindow
if (mapwindowopen == true){
    statuswindowopen = false
   

    if (scenename == 'stellarscene'){
        mapcurrentposition.x = 16
        mapcurrentposition.y = 219
        mapcurrentposition.visible = true
        mapcurrentposition.anims.play('mapcurrentpositionlarge', true); 
    }
      if (scenename == 'outskirts'){
        mapcurrentposition.x = 153
        mapcurrentposition.y = 240
        mapcurrentposition.visible = true
        mapcurrentposition.anims.play('mapcurrentpositionsmall', true); 
    }
         if (scenename == 'graveyardgates'){
        mapcurrentposition.x = 247
        mapcurrentposition.y = 240
        mapcurrentposition.visible = true
        mapcurrentposition.anims.play('mapcurrentpositionsmall', true); 
    }
         if (scenename == 'graveyarda'){
        mapcurrentposition.x = 248
        mapcurrentposition.y = 182
        mapcurrentposition.visible = true
        mapcurrentposition.anims.play('mapcurrentpositionsmall', true); 
    }
         if (scenename == 'graveyardb'){
        mapcurrentposition.x = 334
        mapcurrentposition.y = 182
        mapcurrentposition.visible = true
        mapcurrentposition.anims.play('mapcurrentpositionsmall', true); 
    }


mapscreenbackgrounda.visible = true
keyboardlock = true
}
if (mapwindowopen == false){
mapscreenbackgrounda.visible = false
mapcurrentposition.visible = false
mapcurrentposition.visible = false
mapcurrentposition.anims.stop('mapcurrentpositionlarge', true); 
keyboardlock = false
}

    if (inventorywindowopen == true){
        if (healthupamountowned > 0){
            healthupbutton.visible = true
        }
        if (attackupamountowned > 0){
            attackupbutton.visible = true
        }
        if (defenseupamountowned > 0){
            defenseupbutton.visible = true
        }
        if (magicupamountowned > 0){
            magicupbutton.visible = true
        }
        if (speedupamountowned > 0){
            speedupbutton.visible = true
        }
        if (supportupamountowned > 0){
            supportupbutton.visible = true
        }
       
        inventoryscreenbackground.visible = true
        greenstellarcointxt.visible = true
        bluestellarcointxt.visible = true
        redstellarcointxt.visible = true
        blackstellarcointxt.visible = true
        attackupamountownedtxt.visible = true
        defenseupamountownedtxt.visible = true
        magicupamountownedtxt.visible = true
        healthupamountownedtxt.visible = true
        speedupamountownedtxt.visible = true
        supportupamountownedtxt.visible = true
        
    }
    
    if (inventorywindowopen == false){
        greenstellarcointxt.visible = false
        bluestellarcointxt.visible = false
        redstellarcointxt.visible = false
        blackstellarcointxt.visible = false
        attackupamountownedtxt.visible = false
        defenseupamountownedtxt.visible = false
        magicupamountownedtxt.visible = false
        healthupamountownedtxt.visible = false
        speedupamountownedtxt.visible = false
        supportupamountownedtxt.visible = false
        healthupbutton.visible = false
        attackupbutton.visible = false
        defenseupbutton.visible = false
        magicupbutton.visible = false
        speedupbutton.visible = false
        supportupbutton.visible = false
        inventoryscreenbackground.visible = false
    }
      
    if (cellphoneinventory == true){
      cellphonebutton.visible = true
    }
        if (takeitemwindowopen == true){
        keyboardlock = true
        itemnametxt.visible = true
        takeitembox.visible = true
        yesbutton.visible = true
        nobutton.visible = true
    }

    if (takeitemwindowopen == false){
        itemnametxt.visible = false
        takeitembox.visible = false
        yesbutton.visible = false
        nobutton.visible = false
    }
      
     if (speechbubbleshow == true){
        speechbubble.visible = true
        if (speechtext == 'nayzramreward1'){
            speechnayzramwandfound1.visible = true
            speechbubble.x = nayzram.x + 5
            speechnayzramwandfound1.x = nayzram.x + 5
            speechnayzramwandfound2.x = nayzram.x + 5
     }
     }
if (cecilattacksword == true){
    cursors.left.isDown = false
    cursors.right.isDown = false
}

if (keyboardlock == false){
  
    if (cursors.left.isDown)
    {
    playerfacedirection = 'left'
    player.x -= 1;
    sword.x = player.x
    player.anims.play('walk', true);
    player.setFlipX(false);
    walkingdirection = 'left'
    }

    else if (cursors.right.isDown)
    {
    walkingdirection = 'right'
    playerfacedirection = 'right'
    player.x += 1;
    sword.x = player.x
    player.anims.play('walk', true);
    player.setFlipX(true);
    
    }


    else if (cursors.up.isDown)
    {
   walkingdirection = 'up'
    }

 
    
    else if (cursors.down.isDown)
    {
    walkingdirection = 'down'
    }

    else
    {
      walkingdirection = 'none'
    }
}
      if (debugview == true){
       statustxt.setText([
           
       'nayzramwandquestselected   '+ nayzramwandquestend,
       'nayzramwandquestcomplete   ' + nayzramwandquestcomplete,
       'questmasternayzramwandquestselected   '+ questmasternayzramwandquestselected,
       'questmasternayzranwandquestshow   ' + questmasternayzramwandquestshow,
       'nayzramwandquestend   ' + nayzramwandquestend,
       'keyboardlock   ' + keyboardlock,
       'walkingdirection   ' + walkingdirection,
       scenename,
       cursors.left.isDown,
       cursors.right.isDown

    ]);
}

    playerhealthratingtxt.setText([
      playerhealthrating
    ]);
    playerattackratingtxt.setText([
      playerattackrating
    ]);
    playerdefenseratingtxt.setText([
      playerdefenserating
    ]);
    playerspeedratingtxt.setText([
      playerspeedrating
    ]);
    playermagicratingtxt.setText([
      playermagicrating
    ]);
   playersupportratingtxt.setText([
      playersupportrating
    ]);


     itemcosttxt.setText([
       itemcost
    ]);
      areanametxt.setText([
       areaname
    ]);
     greenstellarcointxt.setText([
       greenstellarcoins
    ]);
     bluestellarcointxt.setText([
      bluestellarcoins
    ]);
     redstellarcointxt.setText([
       redstellarcoins
    ]);
     blackstellarcointxt.setText([
       blackstellarcoins
    ]);

     attackupamountownedtxt.setText([
     attackupamountowned
    ]);
     defenseupamountownedtxt.setText([
     defenseupamountowned
    ]);
     magicupamountownedtxt.setText([
       magicupamountowned
    ]);
     healthupamountownedtxt.setText([
       healthupamountowned
    ]);
      speedupamountownedtxt.setText([
      speedupamountowned
    ]);
     supportupamountownedtxt.setText([
       supportupamountowned
    ]);
      
}

});

  function setdata ()
    {
        this.registry.set('accountnickname', accountnickname);
        this.registry.set('cecilhealthrating', cecilhealthrating);
        this.registry.set('cecilattackrating', cecilattackrating);
        this.registry.set('cecildefenserating', cecildefenserating);
        this.registry.set('cecilspeedrating', cecilspeedrating);
        this.registry.set('cecilmagicrating', cecilmagicrating);
        this.registry.set('cecilsupportrating', cecilsupportrating);
    }

function loadsavedname (parent, key, data){
   if (key === 'accountnickname')
        {
            accountnickname = (data);
        } 
}
  function loadsavedvalues (parent, key, data)
    {
        if (key === 'accountnickname')
        {
            accountnickname = (data);
        }
        else if (key === 'cecilhealthrating')
        {
            cecilhealthrating = (data);
        }
        else if (key === 'cecilattackrating')
        {
            cecilattackrating = (data);
        }
    }

 function loaddefaultvalues ()
{
playercharname = 'Cecil'
cecilhealthrating = 250
cecilattackrating = 10
cecildefenserating = 25
cecilspeedrating = 1
cecilmagicrating = 10
cecilsupportrating = 10
playerhealthrating = cecilhealthrating
playerattackrating = cecilattackrating
playerdefenserating = cecildefenserating
playermagicrating = cecilmagicrating
playerspeedrating = cecilspeedrating
playersupportrating = cecilsupportrating
greenstellarcoins = 0
bluestellarcoins = 0
redstellarcoins = 0
blackstellarcoins = 0
greenkombatcoins = 0
bluekombatcoins = 0
redkombatcoins = 0
blackkombatcoins = 0
attackupamountowned = 5
defenseupamountowned = 5
magicupamountowned = 5
healthupamountowned = 5
speedupamountowned = 5
supportupamountowned = 5 
}



function phonering(){
if (cellphonerings == true){
 if (phoneisringingnow == false){
game.sound.add( "phoneringer" ).play()
phoneisringingnow = true
 }
if (cellphoneinventory == true){

    cellphoneringtime += 10;
if (cellphoneringtime > 50){
    cellphonebutton.setTint(0x00ff00);
   
}
if (cellphoneringtime > 100){
    cellphonebutton.setTint(0xff0000);
    
}
if (cellphoneringtime > 150){
    cellphonebutton.clearTint();
    cellphoneringtime = 0;
}
}
}
}

var config = {
    type: Phaser.AUTO,
    width: 1360,
    height: 768,
    backgroundColor: '#000000',
    parent: 'phaser-example',
     physics: {
        default: 'arcade',
        arcade: {
            gravity: { y: 0 },
            debug: false
        }
    },
    
    scene: [startmenuscene,enternamescene, basemenuscene, stellarscene, oakloungescene, cityoutskirtsscene, outsidecityscene, graveyardgatesscene,graveyardscenea,graveyardsceneb, officescene, uiscene]
};

 
//var
var accountnickname = ''
var accountnamesize = 0
var scenename = ''
var playercharname = ''

var playerhealthrating
var playercurrenthealth
var playerattackrating
var playerdefenserating
var playermagicrating
var playerspeedrating
var playersupportrating


var cecilhealthrating
var cecilcurrenthealth
var cecilattackrating
var cecildefenserating
var cecilmagicrating
var cecilspeedrating
var cecilsupportrating


var itemcost = 0
var greenstellarcoins 
var bluestellarcoins 
var redstellarcoins 
var blackstellarcoins 
var greenkombatcoins 
var bluekombatcoins 
var redkombatcoins 
var blackkombatcoins 
var attackupamountowned 
var defenseupamountowned 
var magicupamountowned 
var healthupamountowned 
var speedupamountowned 
var supportupamountowned 
var selectedshopitemname = ''

var questrewardgiven = false

var standingfrontitemshop = false
var debugview = false
var uix = 0
var uiy = 601
var areaname = ''
var player;
var playerx 
var playery 
var playerfacedirection = 'left'
var walkingdirection = ''
var cursors;
var text;
var speechbubbleshow = false
var speechtext = ''
var speechtexttime = 10
var scrollright = false
var scrollleft = false
var keyboardlock = false
var itemshopopenview = false
var amazingshopview = false
var cecilofficedooropen = false
var intheoffice = false
var cecilofficedoorexit = false
var inventorywindowopen = false
var statuswindowopen = false
var mapwindowopen = false
var talentwindowopen = false
var takeitemwindowopen = false
var cellphonetaken = false
var cellphoneinventory = false
var cellphonerings = false
var cellphoneequip = false
var phoneisanswered = false
var phoneisringingnow = false
var cellphoneringtime = 1
var takeitemname = ''
var questmasterscreenopenview = false
var questmasterscreenopened = false
var questmasterscreenloggedin = false
var questmasteronquest = false
var questmasternayzramwandquestshow = true
var questmasternayzramwandquestselected = false
var beginnayzramwandquest = false
var nayzramwandquestcomplete = false
var nayzramwandfound = false
var nayzramwandquestend = false
var questmasterjackburtonquestshow = false
var questmasterjackburtonquestselected = false
var beginjackburtonquest = false
var jackburtonquestcomplete = false
var questmasterdiapermafiaquestshow = false
var questmasterdiapermafiaquestselected = false
var begindiapermafiaquest = false
var diapermafiaquestcomplete = false
var questmasterquestspot1x = 0
var questmasterquestspot1y = 0
var questmasterquestspot2x = 0
var questmasterquestspot2y = 0
var questmasterquestspot3x = 0
var questmasterquestspot3y = 0
var questmasterquestspot4x = 0
var questmasterquestspot4y = 0
var graveyardsceneabackgroundx = 0
var stellarcitybackgroundx = 0
var officebackgroundx = 0
var cecilattacksword = false
var game = new Phaser.Game(config);

</script>
</html>
